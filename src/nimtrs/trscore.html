<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>trscore</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">trscore</h1>
      <div class="row">
    <div class="three columns">
    <div class="theme-switch-wrapper">
      <label class="theme-switch" for="checkbox">
        <input type="checkbox" id="checkbox" />
        <div class="slider round"></div>
      </label>
     &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
    </div>
    <div id="global-links">
  <ol>
  <li>src  <ol>    <li>nimtrs    <ol>      <li>        <a href="https://haxscramper.github.io/nimtrs/src/nimtrs/trscore.html">trscore</a>      </li>      <li>        <a href="https://haxscramper.github.io/nimtrs/src/nimtrs/doc_example.html">doc_example</a>      </li>      <li>        <a href="https://haxscramper.github.io/nimtrs/src/nimtrs/submodule.html">submodule</a>      </li>      <li>        <a href="https://haxscramper.github.io/nimtrs/src/nimtrs/trspprint.html">trspprint</a>      </li>      <li>        <a href="https://haxscramper.github.io/nimtrs/src/nimtrs/trsdsl.html">trsdsl</a>      </li>      <li>        <a href="https://haxscramper.github.io/nimtrs/src/nimtrs/nimast_trs.html">nimast_trs</a>      </li>      <li>        <a href="https://haxscramper.github.io/nimtrs/src/nimtrs/hterms.html">hterms</a>      </li>      <li>        <a href="https://haxscramper.github.io/nimtrs/src/nimtrs/parsetree_trs.html">parsetree_trs</a>      </li>    </ol></li>  </ol></li>
  <li>
    <a href="https://haxscramper.github.io/nimtrs//index.html">index</a>
  </li>
</ol>    </div>
    <div id="searchInputDiv">
      Search: <input type="text" id="searchInput"
        onkeyup="search()" />
    </div>
    <ul class="simple simple-toc" id="toc-list">
<ul class="simple"><li><a class="reference" id="example_toc" href="#example">Example</a></li>
<li><a class="reference" id="parameters_toc" href="#parameters">Parameters</a></li>
</ul><li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#TermPatternKind"
    title="TermPatternKind = enum
  tpkZeroOrMore, tpkAlternative, tpkNegation, tpkConcat, tpkOptional, tpkTerm">TermPatternKind</a></li>
  <li><a class="reference" href="#TermPattern"
    title="TermPattern[V; F] = object
  case kind*: TermPatternKind
  of tpkZeroOrMore, tpkOptional, tpkNegation:
      patt*: SingleIt[TermPattern[V, F]]

  of tpkConcat, tpkAlternative:
      patterns*: seq[TermPattern[V, F]]

  of tpkTerm:
      term*: SingleIt[Term[V, F]]">TermPattern</a></li>
  <li><a class="reference" href="#TermKind"
    title="TermKind = enum
  tkVariable, tkFunctor, tkConstant, tkPlaceholder, tkList, tkPattern">TermKind</a></li>
  <li><a class="reference" href="#VarSym"
    title="VarSym = object
  isList: bool
  name: string">VarSym</a></li>
  <li><a class="reference" href="#VarSet"
    title="VarSet = HashSet[VarSym]">VarSet</a></li>
  <li><a class="reference" href="#SubstitutionErrorInfo"
    title="SubstitutionErrorInfo = object
  path*: TreePath
  case kind*: TermKind
  of tkVariable:
      vname*: VarSym

  else:
      nil">SubstitutionErrorInfo</a></li>
  <li><a class="reference" href="#FuncHeadKind"
    title="FuncHeadKind = enum
  fhkValue, fhkPredicate, fhkVariable">FuncHeadKind</a></li>
  <li><a class="reference" href="#Term"
    title="Term[V; F] = object
  case tkind*: TermKind
  of tkFunctor:
      case headKind*: FuncHeadKind
      of fhkValue:          ## functor symbols - constant
          functor: F

      of fhkPredicate:      ## Functor head predicate
          funcPred: proc (fhead: F): bool {.noSideEffect.}
          funcPredRepr*: string
          case bindHead: bool
          of true:
              headVar: VarSym ## Functor head variable
            
          of false:
              nil

        
      of fhkVariable:
          funcVariable: VarSym ## Functor head variable
        
      arguments: SingleIt[Term[V, F]]

  of tkConstant:
      case bindConst: bool
      of true:
          constVar: VarSym

      of false:
          nil

      case isPredicate: bool
      of true:
          constPred: proc (val: V): bool {.noSideEffect.}
          constPredRepr*: string

      of false:
          case isFunctor: bool
          of false:
              csym: F
              value: V

          of true:
              fsym: F

        
    
  of tkVariable:
      name: VarSym

  of tkList:
      elements: seq[Term[V, F]]

  of tkPattern:
      fullMatch: bool
      pattern: TermPattern[V, F]

  of tkPlaceholder:
      nil">Term</a></li>
  <li><a class="reference" href="#TermImpl"
    title="TermImpl[V; F] = object
  isFunctorSym*: proc (val: F): bool {.noSideEffect.}
  getArguments*: proc (val: V): seq[V] {.noSideEffect.}
  getSym*: proc (val: V): F {.noSideEffect.}
  makeFunctor*: proc (sym: F; subt: seq[V]): V {.noSideEffect.}
  makeList*: proc (subt: seq[V]): V {.noSideEffect.}
  valStrGen*: proc (val: V): string {.noSideEffect.} ## Conver value
                                                     ## to string.">TermImpl</a></li>
  <li><a class="reference" href="#TermEnv"
    title="TermEnv[V; F] = object
  values*: Table[VarSym, Term[V, F]]">TermEnv</a></li>
  <li><a class="reference" href="#GenProc"
    title="GenProc[V; F] = proc (env: TermEnv[V, F]): Term[V, F]">GenProc</a></li>
  <li><a class="reference" href="#DefaultGenProc"
    title="DefaultGenProc[V; F] = proc (env: TermEnv[V, F]): TermEnv[V, F] {.noSideEffect.}">DefaultGenProc</a></li>
  <li><a class="reference" href="#MatchProc"
    title="MatchProc[V; F] = proc (test: Term[V, F]): Option[TermEnv[V, F]]">MatchProc</a></li>
  <li><a class="reference" href="#TermGenerator"
    title="TermGenerator[V; F] = object
  case isPattern*: bool
  of true:
      patt*: Term[V, F]

  of false:
      gen*: GenProc[V, F]">TermGenerator</a></li>
  <li><a class="reference" href="#MatcherList"
    title="MatcherList[V; F] = object
  first: Table[F, seq[int8]]
  forceTry: seq[int8]        ## List of matchers to always try
  patterns*: seq[TermMatcher[V, F]]">MatcherList</a></li>
  <li><a class="reference" href="#PattList"
    title="PattList[V; F] = Table[VarSym, MatcherList[V, F]]">PattList</a></li>
  <li><a class="reference" href="#TermMatcher"
    title="TermMatcher[V; F] = object
  case isPattern*: bool
  of true:
      patt*: Term[V, F]

  of false:
      matcher*: MatchProc[V, F]

  subpatts*: Table[VarSym, MatcherList[V, F]] ## Submatches
                                              ## on generated variables
  varlist: VarSet            ## List of generated variables
  default: DefaultGenProc[V, F] ## Generate missing variables not produced
                                ## by subpattern matches
  optVars: VarSet            ## Optional variables - `default` is not required
                             ## to generate them.">TermMatcher</a></li>
  <li><a class="reference" href="#RulePair"
    title="RulePair[V; F] = object
  matchers*: MatcherList[V, F]
  gen*: TermGenerator[V, F]">RulePair</a></li>
  <li><a class="reference" href="#RuleId"
    title="RuleId = int16">RuleId</a></li>
  <li><a class="reference" href="#RedSystem"
    title="RedSystem[V; F] = object
  first: Table[F, seq[RuleId]]
  matchers: set[RuleId]
  rules: seq[RulePair[V, F]]">RedSystem</a></li>
  <li><a class="reference" href="#ReduceConstraints"
    title="ReduceConstraints = enum
  rcNoConstraints, rcRewriteOnce, rcApplyOnce">ReduceConstraints</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">toTerm
      <li><a class="reference" href="#toTerm%2CV%2CTermImpl%5BV%2CF%5D"
    title="toTerm[V, F](val: V; cb: TermImpl[V, F]): Term[V, F]">toTerm,<wbr>V,<wbr>TermImpl[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">fromTerm
      <li><a class="reference" href="#fromTerm%2CTerm%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D%2CTreePath"
    title="fromTerm[V, F](term: Term[V, F]; cb: TermImpl[V, F]; path: TreePath = @[0]): V">fromTerm,<wbr>Term[V,<wbr>F],<wbr>TermImpl[V,<wbr>F],<wbr>TreePath</a></li>

  </ul>
  <ul class="simple nested-toc-section">assertCorrect
      <li><a class="reference" href="#assertCorrect%2CTermImpl%5BV%2CF%5D"
    title="assertCorrect[V, F](impl: TermImpl[V, F]): void">assertCorrect,<wbr>TermImpl[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">isFunctor
      <li><a class="reference" href="#isFunctor%2CTermImpl%5BV%2CF%5D%2CV"
    title="isFunctor[V, F](cb: TermImpl[V, F]; val: V): bool">isFunctor,<wbr>TermImpl[V,<wbr>F],<wbr>V</a></li>

  </ul>
  <ul class="simple nested-toc-section">setAtPath
      <li><a class="reference" href="#setAtPath%2CTerm%5BV%2CF%5D%2CTreePath%2CTerm%5BV%2CF%5D"
    title="setAtPath[V, F](term: var Term[V, F]; path: TreePath; value: Term[V, F]): void">setAtPath,<wbr>Term[V,<wbr>F],<wbr>TreePath,<wbr>Term[V,<wbr>F]</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#13" id="63">Funcs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">getPatt
      <li><a class="reference" href="#getPatt%2CTerm%5BV%2CF%5D"
    title="getPatt[V, F](t: Term[V, F]): TermPattern[V, F]">getPatt,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makePlaceholder
      <li><a class="reference" href="#makePlaceholder"
    title="makePlaceholder[V, F](): Term[V, F]">makePlaceholder</a></li>

  </ul>
  <ul class="simple nested-toc-section">$
      <li><a class="reference" href="#%24%2CVarSym"
    title="`$`(vs: VarSym): string">$,<wbr>VarSym</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeList
      <li><a class="reference" href="#makeList%2Cseq%5BTerm%5BV%2CF%5D%5D"
    title="makeList[V, F](elements: seq[Term[V, F]]): Term[V, F]">makeList,<wbr>seq[Term[V,<wbr>F]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getKind
      <li><a class="reference" href="#getKind%2CTerm%5BV%2CF%5D"
    title="getKind[V, F](t: Term[V, F]): TermKind">getKind,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">varlist
      <li><a class="reference" href="#varlist%2CTerm%5BV%2CF%5D%2CTreePath"
    title="varlist[V, F](term: Term[V, F]; path: TreePath = @[0]): seq[
    (Term[V, F], TreePath)]">varlist,<wbr>Term[V,<wbr>F],<wbr>TreePath</a></li>
  <li><a class="reference" href="#varlist%2CTermEnv%5BV%2CF%5D"
    title="varlist[V, F](env: TermEnv[V, F]): VarSet">varlist,<wbr>TermEnv[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">hasAll
      <li><a class="reference" href="#hasAll%2CTermEnv%5BV%2CF%5D%2CVarSet"
    title="hasAll[V, F](env: TermEnv[V, F]; varlist: VarSet): bool">hasAll,<wbr>TermEnv[V,<wbr>F],<wbr>VarSet</a></li>

  </ul>
  <ul class="simple nested-toc-section">unifFunctorHeads
      <li><a class="reference" href="#unifFunctorHeads%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2Cint"
    title="unifFunctorHeads[V, F](term1, term2: Term[V, F]; env: TermEnv[V, F]; level: int): Option[
    TermEnv[V, F]]">unifFunctorHeads,<wbr>Term[V,<wbr>F],<wbr>Term[V,<wbr>F],<wbr>TermEnv[V,<wbr>F],<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeZeroOrMoreP
      <li><a class="reference" href="#makeZeroOrMoreP%2CTermPattern%5BV%2CF%5D"
    title="makeZeroOrMoreP[V, F](patt: TermPattern[V, F]): TermPattern[V, F]">makeZeroOrMoreP,<wbr>TermPattern[V,<wbr>F]</a></li>
  <li><a class="reference" href="#makeZeroOrMoreP%2CTerm%5BV%2CF%5D"
    title="makeZeroOrMoreP[V, F](patt: Term[V, F]): TermPattern[V, F]">makeZeroOrMoreP,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getValues
      <li><a class="reference" href="#getValues%2CTermEnv%5BV%2CF%5D%2CVarSym%2CTermImpl%5BV%2CF%5D"
    title="getValues[V, F](env: TermEnv[V, F]; vsym: VarSym; impl: TermImpl[V, F]): seq[V]">getValues,<wbr>TermEnv[V,<wbr>F],<wbr>VarSym,<wbr>TermImpl[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">parseVarSym
      <li><a class="reference" href="#parseVarSym%2Cstring"
    title="parseVarSym(str: string): VarSym">parseVarSym,<wbr>string</a></li>
  <li><a class="reference" href="#parseVarSym%2CNimNode"
    title="parseVarSym(node: NimNode): VarSym">parseVarSym,<wbr>NimNode</a></li>

  </ul>
  <ul class="simple nested-toc-section">setSubpatterns
      <li><a class="reference" href="#setSubpatterns%2CTermMatcher%5BV%2CF%5D%2CPattList%5BV%2CF%5D%2CDefaultGenProc%5BV%2CF%5D%2Cseq%5BVarSym%5D"
    title="setSubpatterns[V, F](matcher: var TermMatcher[V, F]; subpatts: PattList[V, F];
                     default: DefaultGenProc[V, F]; optVars: seq[VarSym]): void">setSubpatterns,<wbr>TermMatcher[V,<wbr>F],<wbr>PattList[V,<wbr>F],<wbr>DefaultGenProc[V,<wbr>F],<wbr>seq[VarSym]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeOrP
      <li><a class="reference" href="#makeOrP%2Cseq%5BTermPattern%5BV%2CF%5D%5D"
    title="makeOrP[V, F](patts: seq[TermPattern[V, F]]): TermPattern[V, F]">makeOrP,<wbr>seq[TermPattern[V,<wbr>F]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeNegationP
      <li><a class="reference" href="#makeNegationP%2CTermPattern%5BV%2CF%5D"
    title="makeNegationP[V, F](patt: TermPattern[V, F]): TermPattern[V, F]">makeNegationP,<wbr>TermPattern[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getValue
      <li><a class="reference" href="#getValue%2CTerm%5BV%2CF%5D"
    title="getValue[V, F](self: Term[V, F]): V">getValue,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getVal
      <li><a class="reference" href="#getVal%2CTermEnv%5BV%2CF%5D%2CVarSym"
    title="getVal[V, F](e: TermEnv[V, F]; t: VarSym): Term[V, F]">getVal,<wbr>TermEnv[V,<wbr>F],<wbr>VarSym</a></li>
  <li><a class="reference" href="#getVal%2CTermEnv%5BV%2CF%5D%2CVarSym_2"
    title="getVal[V, F](e: var TermEnv[V, F]; t: VarSym): var Term[V, F]">getVal,<wbr>TermEnv[V,<wbr>F],<wbr>VarSym_2</a></li>

  </ul>
  <ul class="simple nested-toc-section">getSym
      <li><a class="reference" href="#getSym%2CTerm%5BV%2CF%5D"
    title="getSym[V, F](t: Term[V, F]): F">getSym,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">len
      <li><a class="reference" href="#len%2CTermEnv%5BV%2CF%5D"
    title="len[V, F](env: TermEnv[V, F]): int">len,<wbr>TermEnv[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">unifConstants
      <li><a class="reference" href="#unifConstants%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2Cint"
    title="unifConstants[V, F](const1, const2: Term[V, F]; env: TermEnv[V, F]; level: int): Option[
    TermEnv[V, F]]">unifConstants,<wbr>Term[V,<wbr>F],<wbr>Term[V,<wbr>F],<wbr>TermEnv[V,<wbr>F],<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">reduce
      <li><a class="reference" href="#reduce%2CTerm%5BV%2CF%5D%2CRedSystem%5BV%2CF%5D%2Cint%2CReduceConstraints"
    title="reduce[V, F](term: Term[V, F]; system: RedSystem[V, F]; maxDepth: int = 40;
             reduceConstraints: ReduceConstraints = rcApplyOnce): tuple[
    term: Term[V, F], ok: bool, rewPaths: Trie[int, set[RuleId]]]">reduce,<wbr>Term[V,<wbr>F],<wbr>RedSystem[V,<wbr>F],<wbr>int,<wbr>ReduceConstraints</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeVariable
      <li><a class="reference" href="#makeVariable%2Cstring%2Cbool"
    title="makeVariable[V, F](name: string; isList: bool = false): Term[V, F]">makeVariable,<wbr>string,<wbr>bool</a></li>
  <li><a class="reference" href="#makeVariable%2CVarSym"
    title="makeVariable[V, F](vsym: VarSym): Term[V, F]">makeVariable,<wbr>VarSym</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeFunctor
      <li><a class="reference" href="#makeFunctor%2CF%2Cseq%5BTerm%5BV%2CF%5D%5D"
    title="makeFunctor[V, F](sym: F; subt: seq[Term[V, F]]): Term[V, F]">makeFunctor,<wbr>F,<wbr>seq[Term[V,<wbr>F]]</a></li>
  <li><a class="reference" href="#makeFunctor%2CVarSym%2Cseq%5BTerm%5BV%2CF%5D%5D"
    title="makeFunctor[V, F](headvar: VarSym; subt: seq[Term[V, F]]): Term[V, F]">makeFunctor,<wbr>VarSym,<wbr>seq[Term[V,<wbr>F]]</a></li>
  <li><a class="reference" href="#makeFunctor%2Cproc%28F%29%2Cstring%2Cseq%5BTerm%5BV%2CF%5D%5D"
    title="makeFunctor[V, F](funcPred: proc (fhead: F): bool {.noSideEffect.};
                  funcPredRepr: string; subt: seq[Term[V, F]]): Term[V, F]">makeFunctor,<wbr>proc(F),<wbr>string,<wbr>seq[Term[V,<wbr>F]]</a></li>
  <li><a class="reference" href="#makeFunctor%2Cproc%28F%29%2Cstring%2CVarSym%2Cseq%5BTerm%5BV%2CF%5D%5D"
    title="makeFunctor[V, F](funcPred: proc (fhead: F): bool {.noSideEffect.};
                  funcPredRepr: string; headVar: VarSym; subt: seq[Term[V, F]]): Term[
    V, F]">makeFunctor,<wbr>proc(F),<wbr>string,<wbr>VarSym,<wbr>seq[Term[V,<wbr>F]]</a></li>
  <li><a class="reference" href="#makeFunctor%2CF%2Cvarargs%5BTerm%5BV%2CF%5D%5D"
    title="makeFunctor[V, F](sym: F; subt: varargs[Term[V, F]]): Term[V, F]">makeFunctor,<wbr>F,<wbr>varargs[Term[V,<wbr>F]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">replaceAll
      <li><a class="reference" href="#replaceAll%2Cseq%5BTerm%5BV%2CF%5D%5D%2CTermPattern%5BV%2CF%5D"
    title="replaceAll[V, F](terms: seq[Term[V, F]]; patt: TermPattern[V, F]): seq[
    Term[V, F]]">replaceAll,<wbr>seq[Term[V,<wbr>F]],<wbr>TermPattern[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">initVarSym
      <li><a class="reference" href="#initVarSym%2Cstring%2Cbool"
    title="initVarSym(name: string; islist: bool): VarSym">initVarSym,<wbr>string,<wbr>bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">getArguments
      <li><a class="reference" href="#getArguments%2CTerm%5BV%2CF%5D"
    title="getArguments[V, F](t: Term[V, F]): seq[Term[V, F]]">getArguments,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getNthRule
      <li><a class="reference" href="#getNthRule%2CRedSystem%5BV%2CF%5D%2Cint"
    title="getNthRule[V, F](system: RedSystem[V, F]; idx: int): RulePair[V, F]">getNthRule,<wbr>RedSystem[V,<wbr>F],<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">substElements
      <li><a class="reference" href="#substElements%2Cseq%5BTerm%5BV%2CF%5D%5D%2CTermEnv%5BV%2CF%5D"
    title="substElements[V, F](args: seq[Term[V, F]]; env: TermEnv[V, F]): seq[Term[V, F]]">substElements,<wbr>seq[Term[V,<wbr>F]],<wbr>TermEnv[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makePattern
      <li><a class="reference" href="#makePattern%2CTermPattern%5BV%2CF%5D%2Cbool"
    title="makePattern[V, F](patt: TermPattern[V, F]; fullMatch: bool = false): Term[V, F]">makePattern,<wbr>TermPattern[V,<wbr>F],<wbr>bool</a></li>
  <li><a class="reference" href="#makePattern%2CTerm%5BV%2CF%5D"
    title="makePattern[V, F](patt: Term[V, F]): Term[V, F]">makePattern,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getNth
      <li><a class="reference" href="#getNth%2CTerm%5BV%2CF%5D%2Cint"
    title="getNth[V, F](t: Term[V, F]; idx: int): Term[V, F]">getNth,<wbr>Term[V,<wbr>F],<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">getExportedVars
      <li><a class="reference" href="#getExportedVars%2CPattList%5BV%2CF%5D"
    title="getExportedVars[V, F](patts: PattList[V, F]): VarSet">getExportedVars,<wbr>PattList[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getNthMod
      <li><a class="reference" href="#getNthMod%2CTerm%5BV%2CF%5D%2Cint"
    title="getNthMod[V, F](t: var Term[V, F]; idx: int): var Term[V, F]">getNthMod,<wbr>Term[V,<wbr>F],<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeTermPattern
      <li><a class="reference" href="#makeTermPattern%2CTermPattern%5BV%2CF%5D"
    title="makeTermPattern[V, F](patt: TermPattern[V, F]): TermPattern[V, F]">makeTermPattern,<wbr>TermPattern[V,<wbr>F]</a></li>
  <li><a class="reference" href="#makeTermPattern%2CTerm%5BV%2CF%5D"
    title="makeTermPattern[V, F](patt: Term[V, F]): TermPattern[V, F]">makeTermPattern,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">unifLists
      <li><a class="reference" href="#unifLists%2Cseq%5BTerm%5BV%2CF%5D%5D%2Cseq%5BTerm%5BV%2CF%5D%5D%2CTermEnv%5BV%2CF%5D%2Cint"
    title="unifLists[V, F](elems1, elems2: seq[Term[V, F]]; env: TermEnv[V, F]; level: int): Option[
    TermEnv[V, F]]">unifLists,<wbr>seq[Term[V,<wbr>F]],<wbr>seq[Term[V,<wbr>F]],<wbr>TermEnv[V,<wbr>F],<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">predp
      <li><a class="reference" href="#predp%2CTerm%5BV%2CF%5D"
    title="predp[V, F](t: Term[V, F]): bool">predp,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">addElement
      <li><a class="reference" href="#addElement%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D"
    title="addElement[V, F](t: var Term[V, F]; elem: Term[V, F]): void">addElement,<wbr>Term[V,<wbr>F],<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">substitute
      <li><a class="reference" href="#substitute%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"
    title="substitute[V, F](term: Term[V, F]; env: TermEnv[V, F]): Term[V, F]">substitute,<wbr>Term[V,<wbr>F],<wbr>TermEnv[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">appendOrUnif
      <li><a class="reference" href="#appendOrUnif%2CTermEnv%5BV%2CF%5D%2CVarSym%2CTerm%5BV%2CF%5D"
    title="appendOrUnif[V, F](env: var TermEnv[V, F]; vsym: VarSym; value: Term[V, F]): bool">appendOrUnif,<wbr>TermEnv[V,<wbr>F],<wbr>VarSym,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">exprRepr
      <li><a class="reference" href="#exprRepr%2CVarSym"
    title="exprRepr(vs: VarSym): string">exprRepr,<wbr>VarSym</a></li>
  <li><a class="reference" href="#exprRepr%2CTerm%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"
    title="exprRepr[V, F](term: Term[V, F]; cb: TermImpl[V, F]): string">exprRepr,<wbr>Term[V,<wbr>F],<wbr>TermImpl[V,<wbr>F]</a></li>
  <li><a class="reference" href="#exprRepr%2CTermMatcher%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"
    title="exprRepr[V, F](matcher: TermMatcher[V, F]; cb: TermImpl[V, F]): TermBuf">exprRepr,<wbr>TermMatcher[V,<wbr>F],<wbr>TermImpl[V,<wbr>F]</a></li>
  <li><a class="reference" href="#exprRepr%2CTermEnv%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D%2Cbool"
    title="exprRepr[V, F](env: TermEnv[V, F]; cb: TermImpl[V, F];
               forceOneLine: bool = false): string">exprRepr,<wbr>TermEnv[V,<wbr>F],<wbr>TermImpl[V,<wbr>F],<wbr>bool</a></li>
  <li><a class="reference" href="#exprRepr%2CRulePair%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"
    title="exprRepr[V, F](rule: RulePair[V, F]; cb: TermImpl[V, F]): string">exprRepr,<wbr>RulePair[V,<wbr>F],<wbr>TermImpl[V,<wbr>F]</a></li>
  <li><a class="reference" href="#exprRepr%2CRedSystem%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"
    title="exprRepr[V, F](sys: RedSystem[V, F]; cb: TermImpl[V, F]): string">exprRepr,<wbr>RedSystem[V,<wbr>F],<wbr>TermImpl[V,<wbr>F]</a></li>
  <li><a class="reference" href="#exprRepr%2CTermPattern%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"
    title="exprRepr[V, F](expr: TermPattern[V, F]; cb: TermImpl[V, F]): string">exprRepr,<wbr>TermPattern[V,<wbr>F],<wbr>TermImpl[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">contains
      <li><a class="reference" href="#contains%2CVarSet%2Cstring"
    title="contains(vset: VarSet; vname: string): bool">contains,<wbr>VarSet,<wbr>string</a></li>
  <li><a class="reference" href="#contains%2CTermEnv%5BV%2CF%5D%2CVarSym"
    title="contains[V, F](env: TermEnv[V, F]; vsym: VarSym): bool">contains,<wbr>TermEnv[V,<wbr>F],<wbr>VarSym</a></li>
  <li><a class="reference" href="#contains%2CTermEnv%5BV%2CF%5D%2CTerm%5BV%2CF%5D"
    title="contains[V, F](env: TermEnv[V, F]; term: Term[V, F]): bool">contains,<wbr>TermEnv[V,<wbr>F],<wbr>Term[V,<wbr>F]</a></li>
  <li><a class="reference" href="#contains%2CTermEnv%5BV%2CF%5D%2Cstring"
    title="contains[V, F](env: TermEnv[V, F]; vname: string): bool">contains,<wbr>TermEnv[V,<wbr>F],<wbr>string</a></li>

  </ul>
  <ul class="simple nested-toc-section">getVName
      <li><a class="reference" href="#getVName%2CVarSym"
    title="getVName(vs: VarSym): string">getVName,<wbr>VarSym</a></li>
  <li><a class="reference" href="#getVName%2CTerm%5BV%2CF%5D"
    title="getVName[V, F](t: Term[V, F]): VarSym">getVName,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">setSubt
      <li><a class="reference" href="#setSubt%2CTerm%5BV%2CF%5D%2Cseq%5BTerm%5BV%2CF%5D%5D"
    title="setSubt[V, F](t: var Term[V, F]; subt: seq[Term[V, F]]): void">setSubt,<wbr>Term[V,<wbr>F],<wbr>seq[Term[V,<wbr>F]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">varp
      <li><a class="reference" href="#varp%2CTerm%5BV%2CF%5D"
    title="varp[V, F](t: Term[V, F]): bool">varp,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">derefOrDefault
      <li><a class="reference" href="#derefOrDefault%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2CTerm%5BV%2CF%5D"
    title="derefOrDefault[V, F](term: Term[V, F]; env: TermEnv[V, F]; default: Term[V, F]): Term[
    V, F]">derefOrDefault,<wbr>Term[V,<wbr>F],<wbr>TermEnv[V,<wbr>F],<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">bindvarp
      <li><a class="reference" href="#bindvarp%2CTerm%5BV%2CF%5D"
    title="bindvarp[V, F](t: Term[V, F]): bool">bindvarp,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">generate
      <li><a class="reference" href="#generate%2CRulePair%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"
    title="generate[V, F](rule: RulePair[V, F]; env: TermEnv[V, F]): Term[V, F]">generate,<wbr>RulePair[V,<wbr>F],<wbr>TermEnv[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeRulePair
      <li><a class="reference" href="#makeRulePair%2Cseq%5BTermMatcher%5BV%2CF%5D%5D%2CTermGenerator%5BV%2CF%5D"
    title="makeRulePair[V, F](rules: seq[TermMatcher[V, F]]; gen: TermGenerator[V, F]): RulePair[
    V, F]">makeRulePair,<wbr>seq[TermMatcher[V,<wbr>F]],<wbr>TermGenerator[V,<wbr>F]</a></li>
  <li><a class="reference" href="#makeRulePair%2CTermMatcher%5BV%2CF%5D%2CTermGenerator%5BV%2CF%5D"
    title="makeRulePair[V, F](rule: TermMatcher[V, F]; gen: TermGenerator[V, F]): RulePair[
    V, F]">makeRulePair,<wbr>TermMatcher[V,<wbr>F],<wbr>TermGenerator[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">toPattList
      <li><a class="reference" href="#toPattList%2Cvarargs%5B%5D"
    title="toPattList[V, F](patts: varargs[(VarSym, Term[V, F])]): PattList[V, F]">toPattList,<wbr>varargs[]</a></li>
  <li><a class="reference" href="#toPattList%2Cvarargs%5B%5D_2"
    title="toPattList[V, F](patts: varargs[(string, Term[V, F])]): PattList[V, F]">toPattList,<wbr>varargs[]_2</a></li>

  </ul>
  <ul class="simple nested-toc-section">mergeEnv
      <li><a class="reference" href="#mergeEnv%2CTermEnv%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"
    title="mergeEnv[V, F](env: var TermEnv[V, F]; other: TermEnv[V, F]): void">mergeEnv,<wbr>TermEnv[V,<wbr>F],<wbr>TermEnv[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeMatcherList
      <li><a class="reference" href="#makeMatcherList%2Cseq%5BTermMatcher%5BV%2CF%5D%5D"
    title="makeMatcherList[V, F](matchers: seq[TermMatcher[V, F]]): MatcherList[V, F]">makeMatcherList,<wbr>seq[TermMatcher[V,<wbr>F]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getArgumentList
      <li><a class="reference" href="#getArgumentList%2CTerm%5BV%2CF%5D"
    title="getArgumentList[V, F](t: Term[V, F]): Term[V, F]">getArgumentList,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">exportedVars
      <li><a class="reference" href="#exportedVars%2CTermMatcher%5BV%2CF%5D"
    title="exportedVars[V, F](matcher: TermMatcher[V, F]): VarSet">exportedVars,<wbr>TermMatcher[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">dereference
      <li><a class="reference" href="#dereference%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"
    title="dereference[V, F](term: Term[V, F]; env: TermEnv[V, F]): Term[V, F]">dereference,<wbr>Term[V,<wbr>F],<wbr>TermEnv[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">[]=
      <li><a class="reference" href="#%5B%5D%3D%2CTermEnv%5BV%2CF%5D%2CTermVar%5BV%2CF%5D%2CTerm%5BV%2CF%5D"
    title="`[]=`[V, F](env: var TermEnv[V, F]; lhs: TermVar[V, F]; rhs: Term[V, F]): void">[]=,<wbr>TermEnv[V,<wbr>F],<wbr>TermVar[V,<wbr>F],<wbr>Term[V,<wbr>F]</a></li>
  <li><a class="reference" href="#%5B%5D%3D%2CRedSystem%5BV%2CF%5D%2CTermVar%5BV%2CF%5D%2CTerm%5BV%2CF%5D"
    title="`[]=`[V, F](system: var RedSystem[V, F]; lhs: TermVar[V, F]; rhs: Term[V, F]): void">[]=,<wbr>RedSystem[V,<wbr>F],<wbr>TermVar[V,<wbr>F],<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">findApplicable
      <li><a class="reference" href="#findApplicable%2CRedSystem%5BV%2CF%5D%2CTerm%5BV%2CF%5D%2CReductionState%2CTreePath"
    title="findApplicable[V, F](system: RedSystem[V, F]; redex: Term[V, F];
                     rs: ReductionState; path: TreePath): Option[
    (RuleId, TermEnv[V, F], RulePair[V, F])]">findApplicable,<wbr>RedSystem[V,<wbr>F],<wbr>Term[V,<wbr>F],<wbr>ReductionState,<wbr>TreePath</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeReductionSystem
      <li><a class="reference" href="#makeReductionSystem%2Cseq%5BRulePair%5BV%2CF%5D%5D"
    title="makeReductionSystem[V, F](rules: seq[RulePair[V, F]]): RedSystem[V, F]">makeReductionSystem,<wbr>seq[RulePair[V,<wbr>F]]</a></li>
  <li><a class="reference" href="#makeReductionSystem%2Cvarargs%5BRulePair%5BV%2CF%5D%5D"
    title="makeReductionSystem[V, F](args: varargs[RulePair[V, F]]): RedSystem[V, F]">makeReductionSystem,<wbr>varargs[RulePair[V,<wbr>F]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeAndP
      <li><a class="reference" href="#makeAndP%2Cseq%5BTermPattern%5BV%2CF%5D%5D"
    title="makeAndP[V, F](patts: seq[TermPattern[V, F]]): TermPattern[V, F]">makeAndP,<wbr>seq[TermPattern[V,<wbr>F]]</a></li>
  <li><a class="reference" href="#makeAndP%2Cvarargs%5BTermPattern%5BV%2CF%5D%2CmakeTermP%5D"
    title="makeAndP[V, F](patts: varargs[TermPattern[V, F], makeTermP]): TermPattern[V, F]">makeAndP,<wbr>varargs[TermPattern[V,<wbr>F],<wbr>makeTermP]</a></li>

  </ul>
  <ul class="simple nested-toc-section">exprReprImpl
      <li><a class="reference" href="#exprReprImpl%2CMatcherList%5BV%2CF%5D%2CTermImpl"
    title="exprReprImpl[V, F](matchers: MatcherList[V, F]; cb: TermImpl): TermBuf">exprReprImpl,<wbr>MatcherList[V,<wbr>F],<wbr>TermImpl</a></li>
  <li><a class="reference" href="#exprReprImpl%2CRulePair%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"
    title="exprReprImpl[V, F](rule: RulePair[V, F]; cb: TermImpl[V, F]): seq[TermBuf]">exprReprImpl,<wbr>RulePair[V,<wbr>F],<wbr>TermImpl[V,<wbr>F]</a></li>
  <li><a class="reference" href="#exprReprImpl%2CRedSystem%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"
    title="exprReprImpl[V, F](sys: RedSystem[V, F]; cb: TermImpl[V, F]): TermBuf">exprReprImpl,<wbr>RedSystem[V,<wbr>F],<wbr>TermImpl[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">apply
      <li><a class="reference" href="#apply%2CTerm%5BV%2CF%5D%2CRulePair%5BV%2CF%5D"
    title="apply[V, F](redex: Term[V, F]; rule: RulePair[V, F]): Option[TermEnv[V, F]]">apply,<wbr>Term[V,<wbr>F],<wbr>RulePair[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">listvarp
      <li><a class="reference" href="#listvarp%2CVarSym"
    title="listvarp(vs: VarSym): bool">listvarp,<wbr>VarSym</a></li>
  <li><a class="reference" href="#listvarp%2CTerm%5BV%2CF%5D"
    title="listvarp[V, F](t: Term[V, F]): bool">listvarp,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">match
      <li><a class="reference" href="#match%2CTerm%5BV%2CF%5D%2CTermMatcher%5BV%2CF%5D"
    title="match[V, F](redex: Term[V, F]; matcher: TermMatcher[V, F]): Option[TermEnv[V, F]]">match,<wbr>Term[V,<wbr>F],<wbr>TermMatcher[V,<wbr>F]</a></li>
  <li><a class="reference" href="#match%2CTerm%5BV%2CF%5D%2CMatcherList%5BV%2CF%5D"
    title="match[V, F](redex: Term[V, F]; matchers: MatcherList[V, F]): Option[
    TermEnv[V, F]]">match,<wbr>Term[V,<wbr>F],<wbr>MatcherList[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeVarSym
      <li><a class="reference" href="#makeVarSym%2Cstring%2Cbool"
    title="makeVarSym(name: string; islist: bool): VarSym">makeVarSym,<wbr>string,<wbr>bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeEnvironment
      <li><a class="reference" href="#makeEnvironment%2Cseq%5B%5D"
    title="makeEnvironment[V, F](values: seq[(VarSym, Term[V, F])] = @[]): TermEnv[V, F]">makeEnvironment,<wbr>seq[]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeConstant
      <li><a class="reference" href="#makeConstant%2CV%2CF"
    title="makeConstant[V, F](val: V; csym: F): Term[V, F]">makeConstant,<wbr>V,<wbr>F</a></li>
  <li><a class="reference" href="#makeConstant%2Cproc%28V%29%2Cstring"
    title="makeConstant[V, F](constPred: proc (val: V): bool {.noSideEffect.};
                   constPredRepr: string): Term[V, F]">makeConstant,<wbr>proc(V),<wbr>string</a></li>
  <li><a class="reference" href="#makeConstant%2CF"
    title="makeConstant[V, F](fsym: F): Term[V, F]">makeConstant,<wbr>F</a></li>
  <li><a class="reference" href="#makeConstant%2CV%2CF%2CVarSym"
    title="makeConstant[V, F](val: V; csym: F; constVar: VarSym): Term[V, F]">makeConstant,<wbr>V,<wbr>F,<wbr>VarSym</a></li>

  </ul>
  <ul class="simple nested-toc-section">isBound
      <li><a class="reference" href="#isBound%2CTermEnv%5BV%2CF%5D%2CVarSym"
    title="isBound[V, F](env: TermEnv[V, F]; term: VarSym): bool">isBound,<wbr>TermEnv[V,<wbr>F],<wbr>VarSym</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeTermP
      <li><a class="reference" href="#makeTermP%2CTerm%5BV%2CF%5D"
    title="makeTermP[V, F](patt: Term[V, F]): TermPattern[V, F]">makeTermP,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getFSym
      <li><a class="reference" href="#getFSym%2CTerm%5BV%2CF%5D"
    title="getFSym[V, F](t: Term[V, F]): F">getFSym,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">functorvalp
      <li><a class="reference" href="#functorvalp%2CTerm%5BV%2CF%5D"
    title="functorvalp[V, F](t: Term[V, F]): bool">functorvalp,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getElements
      <li><a class="reference" href="#getElements%2CTerm%5BV%2CF%5D"
    title="getElements[V, F](t: Term[V, F]): seq[Term[V, F]]">getElements,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeMatcher
      <li><a class="reference" href="#makeMatcher%2CMatchProc%5BV%2CF%5D"
    title="makeMatcher[V, F](matcher: MatchProc[V, F]): TermMatcher[V, F]">makeMatcher,<wbr>MatchProc[V,<wbr>F]</a></li>
  <li><a class="reference" href="#makeMatcher%2CTerm%5BV%2CF%5D"
    title="makeMatcher[V, F](patt: Term[V, F]): TermMatcher[V, F]">makeMatcher,<wbr>Term[V,<wbr>F]</a></li>
  <li><a class="reference" href="#makeMatcher%2CMatchProc%5BV%2CF%5D%2CPattList%5BV%2CF%5D%2CGenProc%5BV%2CF%5D%2Cseq%5BVarSym%5D"
    title="makeMatcher[V, F](matcher: MatchProc[V, F]; subpatt: PattList[V, F];
                  default: GenProc[V, F]; optVars: seq[VarSym] = @[]): TermMatcher[
    V, F]">makeMatcher,<wbr>MatchProc[V,<wbr>F],<wbr>PattList[V,<wbr>F],<wbr>GenProc[V,<wbr>F],<wbr>seq[VarSym]</a></li>
  <li><a class="reference" href="#makeMatcher%2CTerm%5BV%2CF%5D%2CPattList%5BV%2CF%5D%2CDefaultGenProc%5BV%2CF%5D%2Cseq%5BVarSym%5D"
    title="makeMatcher[V, F](patt: Term[V, F]; subpatt: PattList[V, F];
                  default: DefaultGenProc[V, F]; optVars: seq[VarSym] = @[]): TermMatcher[
    V, F]">makeMatcher,<wbr>Term[V,<wbr>F],<wbr>PattList[V,<wbr>F],<wbr>DefaultGenProc[V,<wbr>F],<wbr>seq[VarSym]</a></li>
  <li><a class="reference" href="#makeMatcher%2Cseq%5BTermMatcher%5BV%2CF%5D%5D%2CDefaultGenProc%5BV%2CF%5D%2Cseq%5BVarSym%5D"
    title="makeMatcher[V, F](matchers: seq[TermMatcher[V, F]];
                  default: DefaultGenProc[V, F]; optVars: seq[VarSym] = @[]): TermMatcher[
    V, F]">makeMatcher,<wbr>seq[TermMatcher[V,<wbr>F]],<wbr>DefaultGenProc[V,<wbr>F],<wbr>seq[VarSym]</a></li>

  </ul>
  <ul class="simple nested-toc-section">missingVars
      <li><a class="reference" href="#missingVars%2CTermEnv%5BV%2CF%5D%2CVarSet"
    title="missingVars[V, F](env: TermEnv[V, F]; varlist: VarSet): VarSet">missingVars,<wbr>TermEnv[V,<wbr>F],<wbr>VarSet</a></li>

  </ul>
  <ul class="simple nested-toc-section">treeRepr
      <li><a class="reference" href="#treeRepr%2CTerm%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D%2Cint"
    title="treeRepr[V, F](term: Term[V, F]; cb: TermImpl[V, F]; depth: int = 0): string">treeRepr,<wbr>Term[V,<wbr>F],<wbr>TermImpl[V,<wbr>F],<wbr>int</a></li>
  <li><a class="reference" href="#treeRepr%2CV%2CTermImpl%5BV%2CF%5D%2Cint"
    title="treeRepr[V, F](val: V; cb: TermImpl[V, F]; depth: int = 0): string">treeRepr,<wbr>V,<wbr>TermImpl[V,<wbr>F],<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">copy
      <li><a class="reference" href="#copy%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"
    title="copy[V, F](term: Term[V, F]; env: TermEnv[V, F]): (Term[V, F], TermEnv[V, F])">copy,<wbr>Term[V,<wbr>F],<wbr>TermEnv[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeOptP
      <li><a class="reference" href="#makeOptP%2CTermPattern%5BV%2CF%5D"
    title="makeOptP[V, F](patt: TermPattern[V, F]): TermPattern[V, F]">makeOptP,<wbr>TermPattern[V,<wbr>F]</a></li>
  <li><a class="reference" href="#makeOptP%2CTerm%5BV%2CF%5D"
    title="makeOptP[V, F](patt: Term[V, F]): TermPattern[V, F]">makeOptP,<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">hash
      <li><a class="reference" href="#hash%2CVarSym"
    title="hash(vs: VarSym): Hash">hash,<wbr>VarSym</a></li>

  </ul>
  <ul class="simple nested-toc-section">==
      <li><a class="reference" href="#%3D%3D%2CVarSym%2CVarSym"
    title="`==`(l, r: VarSym): bool">==,<wbr>VarSym,<wbr>VarSym</a></li>
  <li><a class="reference" href="#%3D%3D%2CVarSym%2Cstring"
    title="`==`(l: VarSym; str: string): bool">==,<wbr>VarSym,<wbr>string</a></li>
  <li><a class="reference" href="#%3D%3D%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D"
    title="`==`[V, F](lhs, rhs: Term[V, F]): bool">==,<wbr>Term[V,<wbr>F],<wbr>Term[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">makeGenerator
      <li><a class="reference" href="#makeGenerator%2CTerm%5BV%2CF%5D"
    title="makeGenerator[V, F](obj: Term[V, F]): TermGenerator[V, F]">makeGenerator,<wbr>Term[V,<wbr>F]</a></li>
  <li><a class="reference" href="#makeGenerator%2CGenProc%5BV%2CF%5D"
    title="makeGenerator[V, F](obj: GenProc[V, F]): TermGenerator[V, F]">makeGenerator,<wbr>GenProc[V,<wbr>F]</a></li>

  </ul>
  <ul class="simple nested-toc-section">[]
      <li><a class="reference" href="#%5B%5D%2CTermEnv%5BV%2CF%5D%2CTermVar%5BV%2CF%5D"
    title="`[]`[V, F](env: TermEnv[V, F]; term: TermVar[V, F]): Term[V, F]">[],<wbr>TermEnv[V,<wbr>F],<wbr>TermVar[V,<wbr>F]</a></li>
  <li><a class="reference" href="#%5B%5D%2CTermEnv%5BV%2CF%5D%2CTermVar%5BV%2CF%5D_2"
    title="`[]`[V, F](env: var TermEnv[V, F]; term: TermVar[V, F]): var Term[V, F]">[],<wbr>TermEnv[V,<wbr>F],<wbr>TermVar[V,<wbr>F]_2</a></li>

  </ul>
  <ul class="simple nested-toc-section">unif
      <li><a class="reference" href="#unif%2Cseq%5BTerm%5BV%2CF%5D%5D%2CTermPattern%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2Cint%2Cbool"
    title="unif[V, F](elems: seq[Term[V, F]]; patt: TermPattern[V, F];
           env: TermEnv[V, F] = makeEnvironment[V, F](); level: int;
           fullMatch: bool = true): Option[TermEnv[V, F]]">unif,<wbr>seq[Term[V,<wbr>F]],<wbr>TermPattern[V,<wbr>F],<wbr>TermEnv[V,<wbr>F],<wbr>int,<wbr>bool</a></li>
  <li><a class="reference" href="#unif%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2Cint"
    title="unif[V, F](t1, t2: Term[V, F]; env: TermEnv[V, F]; level: int): Option[
    TermEnv[V, F]]">unif,<wbr>Term[V,<wbr>F],<wbr>Term[V,<wbr>F],<wbr>TermEnv[V,<wbr>F],<wbr>int</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#15" id="65">Iterators</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#items.i%2CRedSystem%5BV%2CF%5D"
    title="items[V, F](system: RedSystem[V, F]): RulePair[V, F]">items</a></li>
  <li><a class="reference" href="#pairs.i%2CRedSystem%5BV%2CF%5D"
    title="pairs[V, F](system: RedSystem[V, F]): (RuleId, RulePair[V, F])">pairs</a></li>
  <li><a class="reference" href="#pairs.i%2CTermEnv%5BV%2CF%5D"
    title="pairs[V, F](env: TermEnv[V, F]): (VarSym, Term[V, F])">pairs</a></li>
  <li><a class="reference" href="#redexes.i%2CTerm%5BV%2CF%5D"
    title="redexes[V, F](term: Term[V, F]): tuple[red: Term[V, F], path: TreePath]">redexes</a></li>
  <li><a class="reference" href="#possibleMatches.i%2CRedSystem%5BV%2CF%5D%2CTerm%5BV%2CF%5D"
    title="possibleMatches[V, F](system: RedSystem[V, F]; redex: Term[V, F]): RuleId">possibleMatches</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#18" id="68">Templates</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#unifp.t%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D"
    title="unifp[V; F](t1, t2: Term[V, F]): untyped">unifp</a></li>
  <li><a class="reference" href="#reductionTriggersBFS.t%2CTerm%5BV%2CF%5D%2CRedSystem%5BV%2CF%5D%2Cuntyped"
    title="reductionTriggersBFS[V; F](redex: Term[V, F]; system: RedSystem[V, F];
                           body: untyped): untyped">reductionTriggersBFS</a></li>
  <li><a class="reference" href="#reductionTriggersDFS.t%2CTerm%5BV%2CF%5D%2CRedSystem%5BV%2CF%5D%2Cuntyped"
    title="reductionTriggersDFS[V; F](redex: Term[V, F]; system: RedSystem[V, F];
                           body: untyped): untyped">reductionTriggersDFS</a></li>
  <li><a class="reference" href="#matchPattern.t%2CTerm%5BV%2CF%5D%2CTermMatcher%5BV%2CF%5D%2Cuntyped"
    title="matchPattern[V; F](redex: Term[V, F]; matcher: TermMatcher[V, F]; body: untyped): untyped">matchPattern</a></li>
  <li><a class="reference" href="#matchPattern.t%2CTerm%5BV%2CF%5D%2CMatcherList%5BV%2CF%5D%2Cuntyped"
    title="matchPattern[V; F](redex: Term[V, F]; matchers: MatcherList[V, F]; body: untyped): untyped">matchPattern</a></li>
  <li><a class="reference" href="#matchPattern.t%2CTerm%5BV%2CF%5D%2CRedSystem%5BV%2CF%5D%2Cuntyped"
    title="matchPattern[V; F](redex: Term[V, F]; sys: RedSystem[V, F]; body: untyped): untyped">matchPattern</a></li>

  </ul>
</li>

</ul>

    </div>
    <div class="nine columns" id="content">
    <div id="tocRoot"></div>
    
    <p class="module-desc">Term algorithms. Implmenetation uses callback functions for getting values/types from terms.</p>
    <div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="TermPatternKind"></a>
<dt><pre><a href="trscore.html#TermPatternKind"><span class="Identifier">TermPatternKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">tpkZeroOrMore</span><span class="Other">,</span> <span class="Identifier">tpkAlternative</span><span class="Other">,</span> <span class="Identifier">tpkNegation</span><span class="Other">,</span> <span class="Identifier">tpkConcat</span><span class="Other">,</span> <span class="Identifier">tpkOptional</span><span class="Other">,</span> <span class="Identifier">tpkTerm</span></pre></dt>
<dd>



</dd>
<a id="TermPattern"></a>
<dt><pre><a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Keyword">case</span> <span class="Identifier">kind</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#TermPatternKind"><span class="Identifier">TermPatternKind</span></a>
  <span class="Keyword">of</span> <span class="Identifier">tpkZeroOrMore</span><span class="Other">,</span> <span class="Identifier">tpkOptional</span><span class="Other">,</span> <span class="Identifier">tpkNegation</span><span class="Other">:</span>
      <span class="Identifier">patt</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">SingleIt</span><span class="Other">[</span><a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span>

  <span class="Keyword">of</span> <span class="Identifier">tpkConcat</span><span class="Other">,</span> <span class="Identifier">tpkAlternative</span><span class="Other">:</span>
      <span class="Identifier">patterns</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span>

  <span class="Keyword">of</span> <span class="Identifier">tpkTerm</span><span class="Other">:</span>
      <span class="Identifier">term</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">SingleIt</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span>

  </pre></dt>
<dd>



</dd>
<a id="TermKind"></a>
<dt><pre><a href="trscore.html#TermKind"><span class="Identifier">TermKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">tkVariable</span><span class="Other">,</span> <span class="Identifier">tkFunctor</span><span class="Other">,</span> <span class="Identifier">tkConstant</span><span class="Other">,</span> <span class="Identifier">tkPlaceholder</span><span class="Other">,</span> <span class="Identifier">tkList</span><span class="Other">,</span> <span class="Identifier">tkPattern</span></pre></dt>
<dd>



</dd>
<a id="VarSym"></a>
<dt><pre><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">isList</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Identifier">name</span><span class="Other">:</span> <span class="Identifier">string</span>
</pre></dt>
<dd>



</dd>
<a id="VarSet"></a>
<dt><pre><a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a> <span class="Other">=</span> <span class="Identifier">HashSet</span><span class="Other">[</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="SubstitutionErrorInfo"></a>
<dt><pre><a href="trscore.html#SubstitutionErrorInfo"><span class="Identifier">SubstitutionErrorInfo</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">path</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">TreePath</span>
  <span class="Keyword">case</span> <span class="Identifier">kind</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#TermKind"><span class="Identifier">TermKind</span></a>
  <span class="Keyword">of</span> <span class="Identifier">tkVariable</span><span class="Other">:</span>
      <span class="Identifier">vname</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a>

  <span class="Keyword">else</span><span class="Other">:</span>
      <span class="Keyword">nil</span>

  </pre></dt>
<dd>



</dd>
<a id="FuncHeadKind"></a>
<dt><pre><a href="trscore.html#FuncHeadKind"><span class="Identifier">FuncHeadKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">fhkValue</span><span class="Other">,</span> <span class="Identifier">fhkPredicate</span><span class="Other">,</span> <span class="Identifier">fhkVariable</span></pre></dt>
<dd>



</dd>
<a id="Term"></a>
<dt><pre><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Keyword">case</span> <span class="Identifier">tkind</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#TermKind"><span class="Identifier">TermKind</span></a>
  <span class="Keyword">of</span> <span class="Identifier">tkFunctor</span><span class="Other">:</span>
      <span class="Keyword">case</span> <span class="Identifier">headKind</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#FuncHeadKind"><span class="Identifier">FuncHeadKind</span></a>
      <span class="Keyword">of</span> <span class="Identifier">fhkValue</span><span class="Other">:</span>          <span class="Comment">## functor symbols - constant</span>
          <span class="Identifier">functor</span><span class="Other">:</span> <span class="Identifier">F</span>

      <span class="Keyword">of</span> <span class="Identifier">fhkPredicate</span><span class="Other">:</span>      <span class="Comment">## Functor head predicate</span>
          <span class="Identifier">funcPred</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">fhead</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span>
          <span class="Identifier">funcPredRepr</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
          <span class="Keyword">case</span> <span class="Identifier">bindHead</span><span class="Other">:</span> <span class="Identifier">bool</span>
          <span class="Keyword">of</span> <span class="Identifier">true</span><span class="Other">:</span>
              <span class="Identifier">headVar</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a> <span class="Comment">## Functor head variable</span>
            
          <span class="Keyword">of</span> <span class="Identifier">false</span><span class="Other">:</span>
              <span class="Keyword">nil</span>

        
      <span class="Keyword">of</span> <span class="Identifier">fhkVariable</span><span class="Other">:</span>
          <span class="Identifier">funcVariable</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a> <span class="Comment">## Functor head variable</span>
        
      <span class="Identifier">arguments</span><span class="Other">:</span> <span class="Identifier">SingleIt</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span>

  <span class="Keyword">of</span> <span class="Identifier">tkConstant</span><span class="Other">:</span>
      <span class="Keyword">case</span> <span class="Identifier">bindConst</span><span class="Other">:</span> <span class="Identifier">bool</span>
      <span class="Keyword">of</span> <span class="Identifier">true</span><span class="Other">:</span>
          <span class="Identifier">constVar</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a>

      <span class="Keyword">of</span> <span class="Identifier">false</span><span class="Other">:</span>
          <span class="Keyword">nil</span>

      <span class="Keyword">case</span> <span class="Identifier">isPredicate</span><span class="Other">:</span> <span class="Identifier">bool</span>
      <span class="Keyword">of</span> <span class="Identifier">true</span><span class="Other">:</span>
          <span class="Identifier">constPred</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span>
          <span class="Identifier">constPredRepr</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>

      <span class="Keyword">of</span> <span class="Identifier">false</span><span class="Other">:</span>
          <span class="Keyword">case</span> <span class="Identifier">isFunctor</span><span class="Other">:</span> <span class="Identifier">bool</span>
          <span class="Keyword">of</span> <span class="Identifier">false</span><span class="Other">:</span>
              <span class="Identifier">csym</span><span class="Other">:</span> <span class="Identifier">F</span>
              <span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">V</span>

          <span class="Keyword">of</span> <span class="Identifier">true</span><span class="Other">:</span>
              <span class="Identifier">fsym</span><span class="Other">:</span> <span class="Identifier">F</span>

        
    
  <span class="Keyword">of</span> <span class="Identifier">tkVariable</span><span class="Other">:</span>
      <span class="Identifier">name</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a>

  <span class="Keyword">of</span> <span class="Identifier">tkList</span><span class="Other">:</span>
      <span class="Identifier">elements</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span>

  <span class="Keyword">of</span> <span class="Identifier">tkPattern</span><span class="Other">:</span>
      <span class="Identifier">fullMatch</span><span class="Other">:</span> <span class="Identifier">bool</span>
      <span class="Identifier">pattern</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span>

  <span class="Keyword">of</span> <span class="Identifier">tkPlaceholder</span><span class="Other">:</span>
      <span class="Keyword">nil</span>

  </pre></dt>
<dd>



</dd>
<a id="TermImpl"></a>
<dt><pre><a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">isFunctorSym</span><span class="Operator">*</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span>
  <span class="Identifier">getArguments</span><span class="Operator">*</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">V</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span>
  <span class="Identifier">getSym</span><span class="Operator">*</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span>
  <span class="Identifier">makeFunctor</span><span class="Operator">*</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">sym</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">subt</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">V</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">V</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span>
  <span class="Identifier">makeList</span><span class="Operator">*</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">subt</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">V</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">V</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span>
  <span class="Identifier">valStrGen</span><span class="Operator">*</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span> <span class="Comment">## Conver value</span>
                                                     <span class="Comment">## to string.</span>
  </pre></dt>
<dd>

<p>Callback procs for concrete types.</p>
<p>'Implementation' of certain actions for concrete types <tt class="docutils literal"><span class="pre">V</span></tt> and <tt class="docutils literal"><span class="pre">F</span></tt>.</p>

<h2><a class="toc-backref" id="example" href="#example">Example</a></h2><p>Example for <tt class="docutils literal"><span class="pre">NimNode</span></tt> and <tt class="docutils literal"><span class="pre">NimNodeKind</span></tt></p>
<pre class="listing"><span class="Keyword">func</span> <span class="Identifier">isFunctor</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">nnk</span><span class="Punctuation">:</span> <span class="Identifier">NimNodeKind</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">bool</span> <span class="Operator">=</span>
  <span class="Identifier">nnk</span> <span class="Keyword">notin</span> <span class="Punctuation">{</span>
    <span class="Identifier">nnkNone</span><span class="Punctuation">,</span> <span class="Identifier">nnkEmpty</span><span class="Punctuation">,</span> <span class="Identifier">nnkNilLit</span><span class="Punctuation">,</span> <span class="Comment"># Empty node</span>
    <span class="Identifier">nnkCharLit</span><span class="Operator">..</span><span class="Identifier">nnkUInt64Lit</span><span class="Punctuation">,</span> <span class="Comment"># Int literal</span>
    <span class="Identifier">nnkFloatLit</span><span class="Operator">..</span><span class="Identifier">nnkFloat64Lit</span><span class="Punctuation">,</span> <span class="Comment"># Float literal</span>
    <span class="Identifier">nnkStrLit</span><span class="Operator">..</span><span class="Identifier">nnkTripleStrLit</span><span class="Punctuation">,</span> <span class="Identifier">nnkCommentStmt</span><span class="Punctuation">,</span> <span class="Identifier">nnkIdent</span><span class="Punctuation">,</span> <span class="Identifier">nnkSym</span> <span class="Comment"># Str lit</span>
  <span class="Punctuation">}</span>

<span class="Keyword">const</span> <span class="Identifier">nimAstImpl</span><span class="Operator">*</span> <span class="Operator">=</span> <span class="Identifier">TermImpl</span><span class="Punctuation">[</span><span class="Identifier">NimNode</span><span class="Punctuation">,</span> <span class="Identifier">NimNodeKind</span><span class="Punctuation">]</span><span class="Punctuation">(</span>
  <span class="Identifier">getsym</span><span class="Punctuation">:</span> <span class="Punctuation">(</span><span class="Keyword">proc</span><span class="Punctuation">(</span><span class="Identifier">n</span><span class="Punctuation">:</span> <span class="Identifier">NimNode</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">NimNodeKind</span> <span class="Operator">=</span> <span class="Identifier">n</span><span class="Operator">.</span><span class="Identifier">kind</span><span class="Punctuation">)</span><span class="Punctuation">,</span>
  <span class="Identifier">isFunctorSym</span><span class="Punctuation">:</span> <span class="Punctuation">(</span><span class="Keyword">proc</span><span class="Punctuation">(</span><span class="Identifier">kind</span><span class="Punctuation">:</span> <span class="Identifier">NimNodeKind</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">bool</span> <span class="Operator">=</span> <span class="Identifier">kind</span><span class="Operator">.</span><span class="Identifier">isFunctor</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">,</span>
  <span class="Identifier">makeFunctor</span><span class="Punctuation">:</span> <span class="Punctuation">(</span>
    <span class="Keyword">proc</span><span class="Punctuation">(</span><span class="Identifier">op</span><span class="Punctuation">:</span> <span class="Identifier">NimNodeKind</span><span class="Punctuation">,</span> <span class="Identifier">sub</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">NimNode</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">NimNode</span> <span class="Operator">=</span>
      <span class="Keyword">if</span> <span class="Identifier">sub</span><span class="Operator">.</span><span class="Identifier">len</span> <span class="Operator">==</span> <span class="DecNumber">0</span><span class="Punctuation">:</span> <span class="Identifier">newNimNode</span><span class="Punctuation">(</span><span class="Identifier">op</span><span class="Punctuation">)</span>
      <span class="Keyword">else</span><span class="Punctuation">:</span> <span class="Identifier">newTree</span><span class="Punctuation">(</span><span class="Identifier">op</span><span class="Punctuation">,</span> <span class="Identifier">sub</span><span class="Punctuation">)</span>
  <span class="Punctuation">)</span><span class="Punctuation">,</span>
  <span class="Identifier">getArguments</span><span class="Punctuation">:</span> <span class="Punctuation">(</span><span class="Keyword">proc</span><span class="Punctuation">(</span><span class="Identifier">n</span><span class="Punctuation">:</span> <span class="Identifier">NimNode</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">NimNode</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Identifier">toSeq</span><span class="Punctuation">(</span><span class="Identifier">n</span><span class="Operator">.</span><span class="Identifier">children</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">,</span>
  <span class="Identifier">valStrGen</span><span class="Punctuation">:</span> <span class="Punctuation">(</span><span class="Keyword">proc</span><span class="Punctuation">(</span><span class="Identifier">n</span><span class="Punctuation">:</span> <span class="Identifier">NimNode</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">string</span> <span class="Operator">=</span> <span class="Operator">$</span><span class="Identifier">n</span><span class="Operator">.</span><span class="Identifier">toStrLit</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">,</span>
<span class="Punctuation">)</span></pre>

</dd>
<a id="TermEnv"></a>
<dt><pre><a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">values</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">,</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span>
</pre></dt>
<dd>

Mapping between variable symbols and values

</dd>
<a id="GenProc"></a>
<dt><pre><a href="trscore.html#GenProc"><span class="Identifier">GenProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Proc for generaing Values during rewriting.

</dd>
<a id="DefaultGenProc"></a>
<dt><pre><a href="trscore.html#DefaultGenProc"><span class="Identifier">DefaultGenProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Generate default values for variables

</dd>
<a id="MatchProc"></a>
<dt><pre><a href="trscore.html#MatchProc"><span class="Identifier">MatchProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">test</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span><a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="TermGenerator"></a>
<dt><pre><a href="trscore.html#TermGenerator"><span class="Identifier">TermGenerator</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Keyword">case</span> <span class="Identifier">isPattern</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Keyword">of</span> <span class="Identifier">true</span><span class="Other">:</span>
      <span class="Identifier">patt</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span>

  <span class="Keyword">of</span> <span class="Identifier">false</span><span class="Other">:</span>
      <span class="Identifier">gen</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#GenProc"><span class="Identifier">GenProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span>

  </pre></dt>
<dd>



</dd>
<a id="MatcherList"></a>
<dt><pre><a href="trscore.html#MatcherList"><span class="Identifier">MatcherList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">first</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><span class="Identifier">F</span><span class="Other">,</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int8</span><span class="Other">]</span><span class="Other">]</span>
  <span class="Identifier">forceTry</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int8</span><span class="Other">]</span>        <span class="Comment">## List of matchers to always try</span>
  <span class="Identifier">patterns</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span>
</pre></dt>
<dd>



</dd>
<a id="PattList"></a>
<dt><pre><a href="trscore.html#PattList"><span class="Identifier">PattList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Identifier">Table</span><span class="Other">[</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">,</span> <a href="trscore.html#MatcherList"><span class="Identifier">MatcherList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="TermMatcher"></a>
<dt><pre><a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Keyword">case</span> <span class="Identifier">isPattern</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Keyword">of</span> <span class="Identifier">true</span><span class="Other">:</span>
      <span class="Identifier">patt</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span>

  <span class="Keyword">of</span> <span class="Identifier">false</span><span class="Other">:</span>
      <span class="Identifier">matcher</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#MatchProc"><span class="Identifier">MatchProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span>

  <span class="Identifier">subpatts</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">,</span> <a href="trscore.html#MatcherList"><span class="Identifier">MatcherList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span> <span class="Comment">## Submatches</span>
                                              <span class="Comment">## on generated variables</span>
  <span class="Identifier">varlist</span><span class="Other">:</span> <a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a>            <span class="Comment">## List of generated variables</span>
  <span class="Identifier">default</span><span class="Other">:</span> <a href="trscore.html#DefaultGenProc"><span class="Identifier">DefaultGenProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Comment">## Generate missing variables not produced</span>
                                <span class="Comment">## by subpattern matches</span>
  <span class="Identifier">optVars</span><span class="Other">:</span> <a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a>            <span class="Comment">## Optional variables - `default` is not required</span>
                             <span class="Comment">## to generate them.</span>
  </pre></dt>
<dd>



</dd>
<a id="RulePair"></a>
<dt><pre><a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">matchers</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#MatcherList"><span class="Identifier">MatcherList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span>
  <span class="Identifier">gen</span><span class="Operator">*</span><span class="Other">:</span> <a href="trscore.html#TermGenerator"><span class="Identifier">TermGenerator</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span>
</pre></dt>
<dd>



</dd>
<a id="RuleId"></a>
<dt><pre><a href="trscore.html#RuleId"><span class="Identifier">RuleId</span></a> <span class="Other">=</span> <span class="Identifier">int16</span></pre></dt>
<dd>



</dd>
<a id="RedSystem"></a>
<dt><pre><a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">first</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><span class="Identifier">F</span><span class="Other">,</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#RuleId"><span class="Identifier">RuleId</span></a><span class="Other">]</span><span class="Other">]</span>
  <span class="Identifier">matchers</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="trscore.html#RuleId"><span class="Identifier">RuleId</span></a><span class="Other">]</span>
  <span class="Identifier">rules</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span>
</pre></dt>
<dd>



</dd>
<a id="ReduceConstraints"></a>
<dt><pre><a href="trscore.html#ReduceConstraints"><span class="Identifier">ReduceConstraints</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">rcNoConstraints</span><span class="Other">,</span> <span class="Identifier">rcRewriteOnce</span><span class="Other">,</span> <span class="Identifier">rcApplyOnce</span></pre></dt>
<dd>



</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="isFunctor,TermImpl[V,F],V"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#isFunctor%2CTermImpl%5BV%2CF%5D%2CV"><span class="Identifier">isFunctor</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Check if symbol for value <tt class="docutils literal"><span class="pre">V</span></tt> is a functor

</dd>
<a id="toTerm,V,TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#toTerm%2CV%2CTermImpl%5BV%2CF%5D"><span class="Identifier">toTerm</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Recursively convert value <tt class="docutils literal"><span class="pre">V</span></tt> to term using implementation <tt class="docutils literal"><span class="pre">cb</span></tt>

</dd>
<a id="fromTerm,Term[V,F],TermImpl[V,F],TreePath"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#fromTerm%2CTerm%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D%2CTreePath"><span class="Identifier">fromTerm</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">TreePath</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="DecNumber">0</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">V</span></pre></dt>
<dd>

Convert <tt class="docutils literal"><span class="pre">term</span></tt> back to value type <tt class="docutils literal"><span class="pre">V</span></tt> using implementation <tt class="docutils literal"><span class="pre">cb</span></tt>. <tt class="docutils literal"><span class="pre">term</span></tt> MUST be fully substituted - e.g. no placeholder or variable terms must be present in tree.

</dd>
<a id="assertCorrect,TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#assertCorrect%2CTermImpl%5BV%2CF%5D"><span class="Identifier">assertCorrect</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">impl</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">void</span></pre></dt>
<dd>

Check if all fields in <tt class="docutils literal"><span class="pre">impl</span></tt> have been correctly initalized

</dd>
<a id="setAtPath,Term[V,F],TreePath,Term[V,F]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setAtPath%2CTerm%5BV%2CF%5D%2CTreePath%2CTerm%5BV%2CF%5D"><span class="Identifier">setAtPath</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">TreePath</span><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">void</span></pre></dt>
<dd>



</dd>

</dl></div>
<div class="section" id="13">
<h1><a class="toc-backref" href="#13">Funcs</a></h1>
<dl class="item">
<a id="makePattern,TermPattern[V,F],bool"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makePattern%2CTermPattern%5BV%2CF%5D%2Cbool"><span class="Identifier">makePattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">fullMatch</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span>
    <span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makePattern,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makePattern%2CTerm%5BV%2CF%5D"><span class="Identifier">makePattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeVarSym,string,bool"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeVarSym%2Cstring%2Cbool"><span class="Identifier">makeVarSym</span></a><span class="Other">(</span><span class="Identifier">name</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">islist</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="initVarSym,string,bool"></a>
<dt><pre><span class="Keyword">func</span> <a href="#initVarSym%2Cstring%2Cbool"><span class="Identifier">initVarSym</span></a><span class="Other">(</span><span class="Identifier">name</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">islist</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="parseVarSym,string"></a>
<dt><pre><span class="Keyword">func</span> <a href="#parseVarSym%2Cstring"><span class="Identifier">parseVarSym</span></a><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="parseVarSym,NimNode"></a>
<dt><pre><span class="Keyword">func</span> <a href="#parseVarSym%2CNimNode"><span class="Identifier">parseVarSym</span></a><span class="Other">(</span><span class="Identifier">node</span><span class="Other">:</span> <span class="Identifier">NimNode</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="makePlaceholder"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makePlaceholder"><span class="Identifier">makePlaceholder</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeConstant,V,F"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeConstant%2CV%2CF"><span class="Identifier">makeConstant</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">csym</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeConstant,proc(V),string"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeConstant%2Cproc%28V%29%2Cstring"><span class="Identifier">makeConstant</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">constPred</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span><span class="Other">;</span>
                        <span class="Identifier">constPredRepr</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeConstant,F"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeConstant%2CF"><span class="Identifier">makeConstant</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">fsym</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeConstant,V,F,VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeConstant%2CV%2CF%2CVarSym"><span class="Identifier">makeConstant</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">csym</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">constVar</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeVariable,string,bool"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeVariable%2Cstring%2Cbool"><span class="Identifier">makeVariable</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">name</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">isList</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeVariable,VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeVariable%2CVarSym"><span class="Identifier">makeVariable</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">vsym</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeList,seq[Term[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeList%2Cseq%5BTerm%5BV%2CF%5D%5D"><span class="Identifier">makeList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">elements</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeFunctor,F,seq[Term[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeFunctor%2CF%2Cseq%5BTerm%5BV%2CF%5D%5D"><span class="Identifier">makeFunctor</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">sym</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">subt</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeFunctor,VarSym,seq[Term[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeFunctor%2CVarSym%2Cseq%5BTerm%5BV%2CF%5D%5D"><span class="Identifier">makeFunctor</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">headvar</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">;</span> <span class="Identifier">subt</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeFunctor,proc(F),string,seq[Term[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeFunctor%2Cproc%28F%29%2Cstring%2Cseq%5BTerm%5BV%2CF%5D%5D"><span class="Identifier">makeFunctor</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">funcPred</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">fhead</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span><span class="Other">;</span>
                       <span class="Identifier">funcPredRepr</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">subt</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeFunctor,proc(F),string,VarSym,seq[Term[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeFunctor%2Cproc%28F%29%2Cstring%2CVarSym%2Cseq%5BTerm%5BV%2CF%5D%5D"><span class="Identifier">makeFunctor</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">funcPred</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">fhead</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span></span><span class="Other">.}</span></span><span class="Other">;</span>
                       <span class="Identifier">funcPredRepr</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">headVar</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">;</span>
                       <span class="Identifier">subt</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create predicate functor with head binding to variable <tt class="docutils literal"><span class="pre">predVar</span></tt>

</dd>
<a id="makeFunctor,F,varargs[Term[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeFunctor%2CF%2Cvarargs%5BTerm%5BV%2CF%5D%5D"><span class="Identifier">makeFunctor</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">sym</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">subt</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create functor using <tt class="docutils literal"><span class="pre">sym</span></tt> as functor head and <tt class="docutils literal"><span class="pre">subt</span></tt> as arguments.

</dd>
<a id="makeTermP,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeTermP%2CTerm%5BV%2CF%5D"><span class="Identifier">makeTermP</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Convert term to pattern matching this term

</dd>
<a id="makeAndP,seq[TermPattern[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeAndP%2Cseq%5BTermPattern%5BV%2CF%5D%5D"><span class="Identifier">makeAndP</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patts</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create 'and' pattern from sequence of patterns: <tt class="docutils literal"><span class="pre">E1 &amp; E2 &amp;E3 ...</span></tt>

</dd>
<a id="makeAndP,varargs[TermPattern[V,F],makeTermP]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeAndP%2Cvarargs%5BTermPattern%5BV%2CF%5D%2CmakeTermP%5D"><span class="Identifier">makeAndP</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patts</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">makeTermP</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span>
    <span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create 'and' pattern from all arguments: <tt class="docutils literal"><span class="pre">E1 &amp; E2 &amp; E3</span></tt>

</dd>
<a id="makeOrP,seq[TermPattern[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeOrP%2Cseq%5BTermPattern%5BV%2CF%5D%5D"><span class="Identifier">makeOrP</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patts</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create 'or' pattern from all arguments: <tt class="docutils literal"><span class="pre">E1 | E2 | E2</span></tt>

</dd>
<a id="makeOptP,TermPattern[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeOptP%2CTermPattern%5BV%2CF%5D"><span class="Identifier">makeOptP</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create optional pattern from argument: <tt class="docutils literal"><span class="pre">?E</span></tt>

</dd>
<a id="makeOptP,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeOptP%2CTerm%5BV%2CF%5D"><span class="Identifier">makeOptP</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create optional pattern from term argument: <tt class="docutils literal"><span class="pre">?T</span></tt>

</dd>
<a id="makeZeroOrMoreP,TermPattern[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeZeroOrMoreP%2CTermPattern%5BV%2CF%5D"><span class="Identifier">makeZeroOrMoreP</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create zero-or-more pattern from argument: <tt class="docutils literal"><span class="pre">*E</span></tt>

</dd>
<a id="makeZeroOrMoreP,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeZeroOrMoreP%2CTerm%5BV%2CF%5D"><span class="Identifier">makeZeroOrMoreP</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create zero-or-more patern from term argument: <tt class="docutils literal"><span class="pre">*T</span></tt>

</dd>
<a id="makeNegationP,TermPattern[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeNegationP%2CTermPattern%5BV%2CF%5D"><span class="Identifier">makeNegationP</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create negation patter from term: <tt class="docutils literal"><span class="pre">!E</span></tt>

</dd>
<a id="makeTermPattern,TermPattern[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeTermPattern%2CTermPattern%5BV%2CF%5D"><span class="Identifier">makeTermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Convert term pattern to term pattern (used to simplify DSL)

</dd>
<a id="makeTermPattern,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeTermPattern%2CTerm%5BV%2CF%5D"><span class="Identifier">makeTermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Convert term term to term pattern. Used in DSL - in regular code you might want to use <tt class="docutils literal"><span class="pre">makeTermP</span></tt>

</dd>
<a id="hash,VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#hash%2CVarSym"><span class="Identifier">hash</span></a><span class="Other">(</span><span class="Identifier">vs</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Hash</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="==,VarSym,VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#%3D%3D%2CVarSym%2CVarSym"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">l</span><span class="Other">,</span> <span class="Identifier">r</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="==,VarSym,string"></a>
<dt><pre><span class="Keyword">func</span> <a href="#%3D%3D%2CVarSym%2Cstring"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">;</span> <span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="listvarp,VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#listvarp%2CVarSym"><span class="Identifier">listvarp</span></a><span class="Other">(</span><span class="Identifier">vs</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="getVName,VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getVName%2CVarSym"><span class="Identifier">getVName</span></a><span class="Other">(</span><span class="Identifier">vs</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="varp,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#varp%2CTerm%5BV%2CF%5D"><span class="Identifier">varp</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="predp,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#predp%2CTerm%5BV%2CF%5D"><span class="Identifier">predp</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="functorvalp,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#functorvalp%2CTerm%5BV%2CF%5D"><span class="Identifier">functorvalp</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="listvarp,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#listvarp%2CTerm%5BV%2CF%5D"><span class="Identifier">listvarp</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="bindvarp,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#bindvarp%2CTerm%5BV%2CF%5D"><span class="Identifier">bindvarp</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="exprRepr,VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprRepr%2CVarSym"><span class="Identifier">exprRepr</span></a><span class="Other">(</span><span class="Identifier">vs</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="$,VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#%24%2CVarSym"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">vs</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="getKind,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getKind%2CTerm%5BV%2CF%5D"><span class="Identifier">getKind</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermKind"><span class="Identifier">TermKind</span></a></pre></dt>
<dd>



</dd>
<a id="getVName,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getVName%2CTerm%5BV%2CF%5D"><span class="Identifier">getVName</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a></pre></dt>
<dd>



</dd>
<a id="getFSym,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getFSym%2CTerm%5BV%2CF%5D"><span class="Identifier">getFSym</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span></pre></dt>
<dd>



</dd>
<a id="getSym,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getSym%2CTerm%5BV%2CF%5D"><span class="Identifier">getSym</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span></pre></dt>
<dd>

Get functor symbols from term

</dd>
<a id="getNth,Term[V,F],int"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getNth%2CTerm%5BV%2CF%5D%2Cint"><span class="Identifier">getNth</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">idx</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Get nth argument from functor or nth element from list

</dd>
<a id="getPatt,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getPatt%2CTerm%5BV%2CF%5D"><span class="Identifier">getPatt</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="getNthMod,Term[V,F],int"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getNthMod%2CTerm%5BV%2CF%5D%2Cint"><span class="Identifier">getNthMod</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">idx</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Get mutable value of [<tt class="docutils literal"><span class="pre">idx</span></tt>] element in list or functor arguments

</dd>
<a id="getArguments,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getArguments%2CTerm%5BV%2CF%5D"><span class="Identifier">getArguments</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>

Get sequence of functor arguments

</dd>
<a id="getArgumentList,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getArgumentList%2CTerm%5BV%2CF%5D"><span class="Identifier">getArgumentList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Get functor arguments as a single list term.

</dd>
<a id="getElements,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getElements%2CTerm%5BV%2CF%5D"><span class="Identifier">getElements</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>

Get elements from list term

</dd>
<a id="addElement,Term[V,F],Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#addElement%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D"><span class="Identifier">addElement</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">elem</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">void</span></pre></dt>
<dd>

Append element to list term

</dd>
<a id="setSubt,Term[V,F],seq[Term[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#setSubt%2CTerm%5BV%2CF%5D%2Cseq%5BTerm%5BV%2CF%5D%5D"><span class="Identifier">setSubt</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">subt</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">void</span></pre></dt>
<dd>

Set arguments for functor

</dd>
<a id="getValue,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getValue%2CTerm%5BV%2CF%5D"><span class="Identifier">getValue</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">V</span></pre></dt>
<dd>

Get value of constant term

</dd>
<a id="treeRepr,Term[V,F],TermImpl[V,F],int"></a>
<dt><pre><span class="Keyword">func</span> <a href="#treeRepr%2CTerm%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D%2Cint"><span class="Identifier">treeRepr</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">depth</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
<dd>



</dd>
<a id="treeRepr,V,TermImpl[V,F],int"></a>
<dt><pre><span class="Keyword">func</span> <a href="#treeRepr%2CV%2CTermImpl%5BV%2CF%5D%2Cint"><span class="Identifier">treeRepr</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">depth</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
<dd>



</dd>
<a id="exprRepr,Term[V,F],TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprRepr%2CTerm%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"><span class="Identifier">exprRepr</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
<dd>



</dd>
<a id="exprRepr,TermMatcher[V,F],TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprRepr%2CTermMatcher%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"><span class="Identifier">exprRepr</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">matcher</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">TermBuf</span></pre></dt>
<dd>



</dd>
<a id="exprRepr,TermEnv[V,F],TermImpl[V,F],bool"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprRepr%2CTermEnv%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D%2Cbool"><span class="Identifier">exprRepr</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                    <span class="Identifier">forceOneLine</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
<dd>



</dd>
<a id="exprReprImpl,MatcherList[V,F],TermImpl"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprReprImpl%2CMatcherList%5BV%2CF%5D%2CTermImpl"><span class="Identifier">exprReprImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">matchers</span><span class="Other">:</span> <a href="trscore.html#MatcherList"><span class="Identifier">MatcherList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">TermBuf</span></pre></dt>
<dd>



</dd>
<a id="exprReprImpl,RulePair[V,F],TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprReprImpl%2CRulePair%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"><span class="Identifier">exprReprImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">rule</span><span class="Other">:</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">TermBuf</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="exprRepr,RulePair[V,F],TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprRepr%2CRulePair%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"><span class="Identifier">exprRepr</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">rule</span><span class="Other">:</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
<dd>



</dd>
<a id="exprReprImpl,RedSystem[V,F],TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprReprImpl%2CRedSystem%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"><span class="Identifier">exprReprImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">sys</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">TermBuf</span></pre></dt>
<dd>



</dd>
<a id="exprRepr,RedSystem[V,F],TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprRepr%2CRedSystem%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"><span class="Identifier">exprRepr</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">sys</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
<dd>



</dd>
<a id="exprRepr,TermPattern[V,F],TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exprRepr%2CTermPattern%5BV%2CF%5D%2CTermImpl%5BV%2CF%5D"><span class="Identifier">exprRepr</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">expr</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
<dd>



</dd>
<a id="makeMatcherList,seq[TermMatcher[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeMatcherList%2Cseq%5BTermMatcher%5BV%2CF%5D%5D"><span class="Identifier">makeMatcherList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">matchers</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#MatcherList"><span class="Identifier">MatcherList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeRulePair,seq[TermMatcher[V,F]],TermGenerator[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeRulePair%2Cseq%5BTermMatcher%5BV%2CF%5D%5D%2CTermGenerator%5BV%2CF%5D"><span class="Identifier">makeRulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">rules</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">gen</span><span class="Other">:</span> <a href="trscore.html#TermGenerator"><span class="Identifier">TermGenerator</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span>
    <span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="varlist,Term[V,F],TreePath"></a>
<dt><pre><span class="Keyword">func</span> <a href="#varlist%2CTerm%5BV%2CF%5D%2CTreePath"><span class="Identifier">varlist</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">TreePath</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="DecNumber">0</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span>
    <span class="Other">(</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">TreePath</span><span class="Other">)</span><span class="Other">]</span></pre></dt>
<dd>

Output list of all variables in term

</dd>
<a id="makeMatcher,MatchProc[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeMatcher%2CMatchProc%5BV%2CF%5D"><span class="Identifier">makeMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">matcher</span><span class="Other">:</span> <a href="trscore.html#MatchProc"><span class="Identifier">MatchProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create term matcher instance for matching procs

</dd>
<a id="makeMatcher,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeMatcher%2CTerm%5BV%2CF%5D"><span class="Identifier">makeMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="getExportedVars,PattList[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getExportedVars%2CPattList%5BV%2CF%5D"><span class="Identifier">getExportedVars</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patts</span><span class="Other">:</span> <a href="trscore.html#PattList"><span class="Identifier">PattList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a></pre></dt>
<dd>

Get list of variables that might be generated by patters in <tt class="docutils literal"><span class="pre">patts</span></tt>

</dd>
<a id="exportedVars,TermMatcher[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#exportedVars%2CTermMatcher%5BV%2CF%5D"><span class="Identifier">exportedVars</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">matcher</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a></pre></dt>
<dd>



</dd>
<a id="toPattList,varargs[]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#toPattList%2Cvarargs%5B%5D"><span class="Identifier">toPattList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patts</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><span class="Other">(</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">,</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#PattList"><span class="Identifier">PattList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="toPattList,varargs[]_2"></a>
<dt><pre><span class="Keyword">func</span> <a href="#toPattList%2Cvarargs%5B%5D_2"><span class="Identifier">toPattList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patts</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><span class="Other">(</span><span class="Identifier">string</span><span class="Other">,</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#PattList"><span class="Identifier">PattList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeRulePair,TermMatcher[V,F],TermGenerator[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeRulePair%2CTermMatcher%5BV%2CF%5D%2CTermGenerator%5BV%2CF%5D"><span class="Identifier">makeRulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">rule</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">gen</span><span class="Other">:</span> <a href="trscore.html#TermGenerator"><span class="Identifier">TermGenerator</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span>
    <span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create rule pair insance

</dd>
<a id="setSubpatterns,TermMatcher[V,F],PattList[V,F],DefaultGenProc[V,F],seq[VarSym]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#setSubpatterns%2CTermMatcher%5BV%2CF%5D%2CPattList%5BV%2CF%5D%2CDefaultGenProc%5BV%2CF%5D%2Cseq%5BVarSym%5D"><span class="Identifier">setSubpatterns</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">matcher</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                          <span class="Identifier">subpatts</span><span class="Other">:</span> <a href="trscore.html#PattList"><span class="Identifier">PattList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                          <span class="Identifier">default</span><span class="Other">:</span> <a href="trscore.html#DefaultGenProc"><span class="Identifier">DefaultGenProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">optVars</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">void</span></pre></dt>
<dd>



</dd>
<a id="makeMatcher,MatchProc[V,F],PattList[V,F],GenProc[V,F],seq[VarSym]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeMatcher%2CMatchProc%5BV%2CF%5D%2CPattList%5BV%2CF%5D%2CGenProc%5BV%2CF%5D%2Cseq%5BVarSym%5D"><span class="Identifier">makeMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">matcher</span><span class="Other">:</span> <a href="trscore.html#MatchProc"><span class="Identifier">MatchProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">subpatt</span><span class="Other">:</span> <a href="trscore.html#PattList"><span class="Identifier">PattList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                       <span class="Identifier">default</span><span class="Other">:</span> <a href="trscore.html#GenProc"><span class="Identifier">GenProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">optVars</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span>
    <span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create term matcher instance for matching procs

</dd>
<a id="makeMatcher,Term[V,F],PattList[V,F],DefaultGenProc[V,F],seq[VarSym]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeMatcher%2CTerm%5BV%2CF%5D%2CPattList%5BV%2CF%5D%2CDefaultGenProc%5BV%2CF%5D%2Cseq%5BVarSym%5D"><span class="Identifier">makeMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">subpatt</span><span class="Other">:</span> <a href="trscore.html#PattList"><span class="Identifier">PattList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                       <span class="Identifier">default</span><span class="Other">:</span> <a href="trscore.html#DefaultGenProc"><span class="Identifier">DefaultGenProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                       <span class="Identifier">optVars</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeMatcher,seq[TermMatcher[V,F]],DefaultGenProc[V,F],seq[VarSym]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeMatcher%2Cseq%5BTermMatcher%5BV%2CF%5D%5D%2CDefaultGenProc%5BV%2CF%5D%2Cseq%5BVarSym%5D"><span class="Identifier">makeMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">matchers</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">;</span>
                       <span class="Identifier">default</span><span class="Other">:</span> <a href="trscore.html#DefaultGenProc"><span class="Identifier">DefaultGenProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                       <span class="Identifier">optVars</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create new toplevel term matcher from multiple smaller ones. New variable <tt class="docutils literal"><span class="pre">auxToplevelCatchall</span></tt> is introduced.

</dd>
<a id="makeGenerator,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeGenerator%2CTerm%5BV%2CF%5D"><span class="Identifier">makeGenerator</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">obj</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermGenerator"><span class="Identifier">TermGenerator</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create closure proc that will output <tt class="docutils literal"><span class="pre">obj</span></tt> as value

</dd>
<a id="makeGenerator,GenProc[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeGenerator%2CGenProc%5BV%2CF%5D"><span class="Identifier">makeGenerator</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">obj</span><span class="Other">:</span> <a href="trscore.html#GenProc"><span class="Identifier">GenProc</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermGenerator"><span class="Identifier">TermGenerator</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create closure proc that will output <tt class="docutils literal"><span class="pre">obj</span></tt> as value

</dd>
<a id="makeEnvironment,seq[]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeEnvironment%2Cseq%5B%5D"><span class="Identifier">makeEnvironment</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">values</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Other">(</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">,</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span>
    <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Create new environment using <tt class="docutils literal"><span class="pre">values</span></tt> as initial binding values

</dd>
<a id="makeReductionSystem,seq[RulePair[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeReductionSystem%2Cseq%5BRulePair%5BV%2CF%5D%5D"><span class="Identifier">makeReductionSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">rules</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="makeReductionSystem,varargs[RulePair[V,F]]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#makeReductionSystem%2Cvarargs%5BRulePair%5BV%2CF%5D%5D"><span class="Identifier">makeReductionSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">args</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="isBound,TermEnv[V,F],VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#isBound%2CTermEnv%5BV%2CF%5D%2CVarSym"><span class="Identifier">isBound</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Check if variable is bound to somethin in <tt class="docutils literal"><span class="pre">env</span></tt>

</dd>
<a id="getVal,TermEnv[V,F],VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getVal%2CTermEnv%5BV%2CF%5D%2CVarSym"><span class="Identifier">getVal</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="getVal,TermEnv[V,F],VarSym_2"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getVal%2CTermEnv%5BV%2CF%5D%2CVarSym_2"><span class="Identifier">getVal</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">t</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="[],TermEnv[V,F],TermVar[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#%5B%5D%2CTermEnv%5BV%2CF%5D%2CTermVar%5BV%2CF%5D"><span class="Identifier">`[]`</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">term</span><span class="Other">:</span> <span class="Identifier">TermVar</span><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="[],TermEnv[V,F],TermVar[V,F]_2"></a>
<dt><pre><span class="Keyword">func</span> <a href="#%5B%5D%2CTermEnv%5BV%2CF%5D%2CTermVar%5BV%2CF%5D_2"><span class="Identifier">`[]`</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">term</span><span class="Other">:</span> <span class="Identifier">TermVar</span><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="[]=,TermEnv[V,F],TermVar[V,F],Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#%5B%5D%3D%2CTermEnv%5BV%2CF%5D%2CTermVar%5BV%2CF%5D%2CTerm%5BV%2CF%5D"><span class="Identifier">`[]=`</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">lhs</span><span class="Other">:</span> <span class="Identifier">TermVar</span><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">rhs</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">void</span></pre></dt>
<dd>

Add rule to environment

</dd>
<a id="[]=,RedSystem[V,F],TermVar[V,F],Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#%5B%5D%3D%2CRedSystem%5BV%2CF%5D%2CTermVar%5BV%2CF%5D%2CTerm%5BV%2CF%5D"><span class="Identifier">`[]=`</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">system</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">lhs</span><span class="Other">:</span> <span class="Identifier">TermVar</span><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                 <span class="Identifier">rhs</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">void</span></pre></dt>
<dd>

Add rule to environment

</dd>
<a id="==,Term[V,F],Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#%3D%3D%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D"><span class="Identifier">`==`</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">lhs</span><span class="Other">,</span> <span class="Identifier">rhs</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="getValues,TermEnv[V,F],VarSym,TermImpl[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getValues%2CTermEnv%5BV%2CF%5D%2CVarSym%2CTermImpl%5BV%2CF%5D"><span class="Identifier">getValues</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">vsym</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">;</span> <span class="Identifier">impl</span><span class="Other">:</span> <a href="trscore.html#TermImpl"><span class="Identifier">TermImpl</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span>
    <span class="Identifier">V</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="contains,VarSet,string"></a>
<dt><pre><span class="Keyword">func</span> <a href="#contains%2CVarSet%2Cstring"><span class="Identifier">contains</span></a><span class="Other">(</span><span class="Identifier">vset</span><span class="Other">:</span> <a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a><span class="Other">;</span> <span class="Identifier">vname</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="contains,TermEnv[V,F],VarSym"></a>
<dt><pre><span class="Keyword">func</span> <a href="#contains%2CTermEnv%5BV%2CF%5D%2CVarSym"><span class="Identifier">contains</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">vsym</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="contains,TermEnv[V,F],Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#contains%2CTermEnv%5BV%2CF%5D%2CTerm%5BV%2CF%5D"><span class="Identifier">contains</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="contains,TermEnv[V,F],string"></a>
<dt><pre><span class="Keyword">func</span> <a href="#contains%2CTermEnv%5BV%2CF%5D%2Cstring"><span class="Identifier">contains</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">vname</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="hasAll,TermEnv[V,F],VarSet"></a>
<dt><pre><span class="Keyword">func</span> <a href="#hasAll%2CTermEnv%5BV%2CF%5D%2CVarSet"><span class="Identifier">hasAll</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">varlist</span><span class="Other">:</span> <a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>



</dd>
<a id="missingVars,TermEnv[V,F],VarSet"></a>
<dt><pre><span class="Keyword">func</span> <a href="#missingVars%2CTermEnv%5BV%2CF%5D%2CVarSet"><span class="Identifier">missingVars</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">varlist</span><span class="Other">:</span> <a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a></pre></dt>
<dd>



</dd>
<a id="varlist,TermEnv[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#varlist%2CTermEnv%5BV%2CF%5D"><span class="Identifier">varlist</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#VarSet"><span class="Identifier">VarSet</span></a></pre></dt>
<dd>



</dd>
<a id="len,TermEnv[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#len%2CTermEnv%5BV%2CF%5D"><span class="Identifier">len</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span></pre></dt>
<dd>

Get number of itesm in enviroenmt

</dd>
<a id="copy,Term[V,F],TermEnv[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#copy%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"><span class="Identifier">copy</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">,</span>
    <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
<dd>

Create copy of a term. All variables are replaced with new ones.

</dd>
<a id="dereference,Term[V,F],TermEnv[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#dereference%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"><span class="Identifier">dereference</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Traverse binding chain in environment <tt class="docutils literal"><span class="pre">env</span></tt> and return value of the <tt class="docutils literal"><span class="pre">term</span></tt>

</dd>
<a id="derefOrDefault,Term[V,F],TermEnv[V,F],Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#derefOrDefault%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2CTerm%5BV%2CF%5D"><span class="Identifier">derefOrDefault</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                          <span class="Identifier">default</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="unif,seq[Term[V,F]],TermPattern[V,F],TermEnv[V,F],int,bool"></a>
<dt><pre><span class="Keyword">func</span> <a href="#unif%2Cseq%5BTerm%5BV%2CF%5D%5D%2CTermPattern%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2Cint%2Cbool"><span class="Identifier">unif</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">elems</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Identifier">makeEnvironment</span><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">level</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span>
                <span class="Identifier">fullMatch</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span><a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>

Unify <tt class="docutils literal"><span class="pre">patt</span></tt> to elements in <tt class="docutils literal"><span class="pre">elems</span></tt> using environment <tt class="docutils literal"><span class="pre">env</span></tt>. If <tt class="docutils literal"><span class="pre">fullMatch</span></tt> is true return <tt class="docutils literal"><span class="pre">some()</span></tt> environment only if input sequence matcher completely. Otherwise repeatedly apply pattern on sequence.

</dd>
<a id="unifLists,seq[Term[V,F]],seq[Term[V,F]],TermEnv[V,F],int"></a>
<dt><pre><span class="Keyword">func</span> <a href="#unifLists%2Cseq%5BTerm%5BV%2CF%5D%5D%2Cseq%5BTerm%5BV%2CF%5D%5D%2CTermEnv%5BV%2CF%5D%2Cint"><span class="Identifier">unifLists</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">elems1</span><span class="Other">,</span> <span class="Identifier">elems2</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                     <span class="Identifier">level</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span><a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>

Unifty two lists of terms. Each list may contain variables, constants, other terms and patterns. Pattern matches multiple elements at once, so unification of <tt class="docutils literal"><span class="pre">[@a &amp; @a]</span></tt> and <tt class="docutils literal"><span class="pre">[1, 2]</span></tt> will give <tt class="docutils literal"><span class="pre">{@a -&gt; [1, 2]}</span></tt>

</dd>
<a id="unifFunctorHeads,Term[V,F],Term[V,F],TermEnv[V,F],int"></a>
<dt><pre><span class="Keyword">func</span> <a href="#unifFunctorHeads%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2Cint"><span class="Identifier">unifFunctorHeads</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term1</span><span class="Other">,</span> <span class="Identifier">term2</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                            <span class="Identifier">level</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span><a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>

Unify two functor heads. Unification of two functors with predicates is not allowed, everything else is supported. If functor head uses variable it MUST be bound to functor constant.

</dd>
<a id="unifConstants,Term[V,F],Term[V,F],TermEnv[V,F],int"></a>
<dt><pre><span class="Keyword">func</span> <a href="#unifConstants%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2Cint"><span class="Identifier">unifConstants</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">const1</span><span class="Other">,</span> <span class="Identifier">const2</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                         <span class="Identifier">level</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span><a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>

Unify two constants. Unification of two constants with predicates is not allowed. If one of the constants is a predicate, other MUST be bound to non-functor value.

</dd>
<a id="unif,Term[V,F],Term[V,F],TermEnv[V,F],int"></a>
<dt><pre><span class="Keyword">func</span> <a href="#unif%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D%2Cint"><span class="Identifier">unif</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t1</span><span class="Other">,</span> <span class="Identifier">t2</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">level</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span>
    <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>

Attempt to unify two terms. On success substitution (environment) is return for which two terms <tt class="docutils literal"><span class="pre">t1</span></tt> and <tt class="docutils literal"><span class="pre">t2</span></tt> could be considered equal.

</dd>
<a id="replaceAll,seq[Term[V,F]],TermPattern[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#replaceAll%2Cseq%5BTerm%5BV%2CF%5D%5D%2CTermPattern%5BV%2CF%5D"><span class="Identifier">replaceAll</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">terms</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">patt</span><span class="Other">:</span> <a href="trscore.html#TermPattern"><span class="Identifier">TermPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span>
    <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="substElements,seq[Term[V,F]],TermEnv[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#substElements%2Cseq%5BTerm%5BV%2CF%5D%5D%2CTermEnv%5BV%2CF%5D"><span class="Identifier">substElements</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">args</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span>
    <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="substitute,Term[V,F],TermEnv[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#substitute%2CTerm%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"><span class="Identifier">substitute</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Substitute all variables in term with their values from environment

</dd>
<a id="mergeEnv,TermEnv[V,F],TermEnv[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#mergeEnv%2CTermEnv%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"><span class="Identifier">mergeEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">other</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">void</span></pre></dt>
<dd>



</dd>
<a id="appendOrUnif,TermEnv[V,F],VarSym,Term[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#appendOrUnif%2CTermEnv%5BV%2CF%5D%2CVarSym%2CTerm%5BV%2CF%5D"><span class="Identifier">appendOrUnif</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">vsym</span><span class="Other">:</span> <a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

<p>If variable <tt class="docutils literal"><span class="pre">vsym</span></tt> is missing from the environment add it and return true. If variable is a list <tt class="docutils literal"><span class="pre">@a</span></tt> append value and return true. Otherwise return result of unification for variable value. Environment <tt class="docutils literal"><span class="pre">env</span></tt> is <strong>modified</strong> on success.</p>
<p>NOTE: in this case list variables behave almost like placeholders</p>
<ul class="simple"><li>unification always succeds.</li>
<li><tt class="docutils literal"><span class="pre">{} + ($a, 12) ==&gt; {$a -&gt; 12}, true</span></tt></li>
<li><tt class="docutils literal"><span class="pre">{@a -&gt; [12]} + (@a, 19) ==&gt; {@a -&gt; [12, 19]}, true</span></tt></li>
<li><tt class="docutils literal"><span class="pre">{$a -&gt; 12} + ($a, 12) =&gt; {$a -&gt; 12}, true</span></tt></li>
<li><tt class="docutils literal"><span class="pre">{$a -&gt; 12} + ($a, 19) =&gt; {$a -&gt; 12}, false</span></tt></li>
</ul>


</dd>
<a id="match,Term[V,F],TermMatcher[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#match%2CTerm%5BV%2CF%5D%2CTermMatcher%5BV%2CF%5D"><span class="Identifier">match</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matcher</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span>
    <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="match,Term[V,F],MatcherList[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#match%2CTerm%5BV%2CF%5D%2CMatcherList%5BV%2CF%5D"><span class="Identifier">match</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matchers</span><span class="Other">:</span> <a href="trscore.html#MatcherList"><span class="Identifier">MatcherList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span>
    <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="apply,Term[V,F],RulePair[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#apply%2CTerm%5BV%2CF%5D%2CRulePair%5BV%2CF%5D"><span class="Identifier">apply</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">rule</span><span class="Other">:</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span><a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>

Match pattern from <tt class="docutils literal"><span class="pre">rule</span></tt> with <tt class="docutils literal"><span class="pre">redex</span></tt> and return unification environment.

</dd>
<a id="findApplicable,RedSystem[V,F],Term[V,F],ReductionState,TreePath"></a>
<dt><pre><span class="Keyword">func</span> <a href="#findApplicable%2CRedSystem%5BV%2CF%5D%2CTerm%5BV%2CF%5D%2CReductionState%2CTreePath"><span class="Identifier">findApplicable</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">system</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                          <span class="Identifier">rs</span><span class="Other">:</span> <span class="Identifier">ReductionState</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">TreePath</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span>
    <span class="Other">(</span><a href="trscore.html#RuleId"><span class="Identifier">RuleId</span></a><span class="Other">,</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">,</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">]</span></pre></dt>
<dd>

Return first rule in system that can be applied for given <tt class="docutils literal"><span class="pre">redex</span></tt> and unification environment under which rule matches with pattern in rule.

</dd>
<a id="generate,RulePair[V,F],TermEnv[V,F]"></a>
<dt><pre><span class="Keyword">func</span> <a href="#generate%2CRulePair%5BV%2CF%5D%2CTermEnv%5BV%2CF%5D"><span class="Identifier">generate</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">rule</span><span class="Other">:</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Apply generator in <tt class="docutils literal"><span class="pre">rule</span></tt> using environment <tt class="docutils literal"><span class="pre">env</span></tt>

</dd>
<a id="getNthRule,RedSystem[V,F],int"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getNthRule%2CRedSystem%5BV%2CF%5D%2Cint"><span class="Identifier">getNthRule</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">system</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">idx</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>



</dd>
<a id="reduce,Term[V,F],RedSystem[V,F],int,ReduceConstraints"></a>
<dt><pre><span class="Keyword">func</span> <a href="#reduce%2CTerm%5BV%2CF%5D%2CRedSystem%5BV%2CF%5D%2Cint%2CReduceConstraints"><span class="Identifier">reduce</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">system</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">maxDepth</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">40</span><span class="Other">;</span>
                  <span class="Identifier">reduceConstraints</span><span class="Other">:</span> <a href="trscore.html#ReduceConstraints"><span class="Identifier">ReduceConstraints</span></a> <span class="Other">=</span> <span class="Identifier">rcApplyOnce</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span>
    <span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">ok</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">,</span> <span class="Identifier">rewPaths</span><span class="Other">:</span> <span class="Identifier">Trie</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">,</span> <span class="Identifier">set</span><span class="Other">[</span><a href="trscore.html#RuleId"><span class="Identifier">RuleId</span></a><span class="Other">]</span><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>

<p>Perform reduction of <tt class="docutils literal"><span class="pre">term</span></tt> using <tt class="docutils literal"><span class="pre">system</span></tt> rules.</p>
<p>Iterate over all subterms (redexes) in <tt class="docutils literal"><span class="pre">term</span></tt> and try each reduction rule in <tt class="docutils literal"><span class="pre">system</span></tt>. If rule matches, replace subterm with output of the rule value generator.</p>

<h2><a class="toc-backref" id="parameters" href="#parameters">Parameters</a></h2><table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">term:</th><td> term to reduce</td></tr>
<tr><th class="docinfo-name">system:</th><td> collection of rules (matcher - generator pairs)</td></tr>
<tr><th class="docinfo-name">cb:</th><td> implementation callbacks for term</td></tr>
<tr><th class="docinfo-name">maxDepth:</th><td> do not reduce terms deeper than this value</td></tr>
<tr><th class="docinfo-name">reduceConstaints:</th><td> Configuration for continous application of<p>reduction rules on the same paths.</p>
</td></tr>
</tbody></table><blockquote><p><ul class="simple"><li><strong>rcNoConstaints</strong> Reduce as long as reduction can take place</li>
<li><strong>rcRewriteOnce</strong> do not rewrite subterm or any of it's descendants after it has been reduced once</li>
<li><strong>rcApplyOnce</strong> do not use the same rule on term or any of it's descendants after rule has been applied once. Reduction of the term (or descendants) might still take place but using different rules.</li>
</ul>
</p></blockquote>


</dd>

</dl></div>
<div class="section" id="15">
<h1><a class="toc-backref" href="#15">Iterators</a></h1>
<dl class="item">
<a id="items.i,RedSystem[V,F]"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#items.i%2CRedSystem%5BV%2CF%5D"><span class="Identifier">items</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">system</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span></pre></dt>
<dd>

Iterate over all rules in rewriting system

</dd>
<a id="pairs.i,RedSystem[V,F]"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#pairs.i%2CRedSystem%5BV%2CF%5D"><span class="Identifier">pairs</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">system</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><a href="trscore.html#RuleId"><span class="Identifier">RuleId</span></a><span class="Other">,</span> <a href="trscore.html#RulePair"><span class="Identifier">RulePair</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
<dd>

Iterate over all rules with their indices in rewriting system

</dd>
<a id="pairs.i,TermEnv[V,F]"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#pairs.i%2CTermEnv%5BV%2CF%5D"><span class="Identifier">pairs</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">env</span><span class="Other">:</span> <a href="trscore.html#TermEnv"><span class="Identifier">TermEnv</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><a href="trscore.html#VarSym"><span class="Identifier">VarSym</span></a><span class="Other">,</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
<dd>

Iterate over all variables and values in evnironment

</dd>
<a id="redexes.i,Term[V,F]"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#redexes.i%2CTerm%5BV%2CF%5D"><span class="Identifier">redexes</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">term</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">red</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">TreePath</span><span class="Other">]</span></pre></dt>
<dd>

Iterate over all redex in term

</dd>
<a id="possibleMatches.i,RedSystem[V,F],Term[V,F]"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#possibleMatches.i%2CRedSystem%5BV%2CF%5D%2CTerm%5BV%2CF%5D"><span class="Identifier">possibleMatches</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">system</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="trscore.html#RuleId"><span class="Identifier">RuleId</span></a></pre></dt>
<dd>



</dd>

</dl></div>
<div class="section" id="18">
<h1><a class="toc-backref" href="#18">Templates</a></h1>
<dl class="item">
<a id="unifp.t,Term[V,F],Term[V,F]"></a>
<dt><pre><span class="Keyword">template</span> <a href="#unifp.t%2CTerm%5BV%2CF%5D%2CTerm%5BV%2CF%5D"><span class="Identifier">unifp</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t1</span><span class="Other">,</span> <span class="Identifier">t2</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>



</dd>
<a id="reductionTriggersBFS.t,Term[V,F],RedSystem[V,F],untyped"></a>
<dt><pre><span class="Keyword">template</span> <a href="#reductionTriggersBFS.t%2CTerm%5BV%2CF%5D%2CRedSystem%5BV%2CF%5D%2Cuntyped"><span class="Identifier">reductionTriggersBFS</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">system</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                                    <span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>



</dd>
<a id="reductionTriggersDFS.t,Term[V,F],RedSystem[V,F],untyped"></a>
<dt><pre><span class="Keyword">template</span> <a href="#reductionTriggersDFS.t%2CTerm%5BV%2CF%5D%2CRedSystem%5BV%2CF%5D%2Cuntyped"><span class="Identifier">reductionTriggersDFS</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">system</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                                    <span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>



</dd>
<a id="matchPattern.t,Term[V,F],TermMatcher[V,F],untyped"></a>
<dt><pre><span class="Keyword">template</span> <a href="#matchPattern.t%2CTerm%5BV%2CF%5D%2CTermMatcher%5BV%2CF%5D%2Cuntyped"><span class="Identifier">matchPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matcher</span><span class="Other">:</span> <a href="trscore.html#TermMatcher"><span class="Identifier">TermMatcher</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                            <span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>



</dd>
<a id="matchPattern.t,Term[V,F],MatcherList[V,F],untyped"></a>
<dt><pre><span class="Keyword">template</span> <a href="#matchPattern.t%2CTerm%5BV%2CF%5D%2CMatcherList%5BV%2CF%5D%2Cuntyped"><span class="Identifier">matchPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matchers</span><span class="Other">:</span> <a href="trscore.html#MatcherList"><span class="Identifier">MatcherList</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                            <span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>



</dd>
<a id="matchPattern.t,Term[V,F],RedSystem[V,F],untyped"></a>
<dt><pre><span class="Keyword">template</span> <a href="#matchPattern.t%2CTerm%5BV%2CF%5D%2CRedSystem%5BV%2CF%5D%2Cuntyped"><span class="Identifier">matchPattern</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">redex</span><span class="Other">:</span> <a href="trscore.html#Term"><span class="Identifier">Term</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">sys</span><span class="Other">:</span> <a href="trscore.html#RedSystem"><span class="Identifier">RedSystem</span></a><span class="Other">[</span><span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span>
                            <span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>



</dd>

</dl></div>

    </div>
  </div>
  
    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2020-12-03 19:56:12 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
